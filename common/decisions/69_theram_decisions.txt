
##################################################
# THERAMORE AI DECISIONS

##################################################

# Ai decision for assembly
ai_settlers_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"

	ai_check_interval = 18

	cooldown = { days = 365 }

	is_shown = {
		is_independent_ruler = yes
		is_landed = yes
		is_theramorean_descendant_culture = yes
		is_ai = yes
		primary_title = {
			has_variable = azeroth_settlers
			var:azeroth_settlers >= 400
		}
	}

	effect = {
		random_list = {
			1 = {
				trigger = {
					NOT = { has_character_modifier = settler_button_1_mf }
				}
				add_character_modifier = {
					modifier = settler_button_1_mf
					years = 5
				}
				primary_title = { change_variable = { name = azeroth_settlers subtract = 100 } }
			}
			1 = {
				trigger = {
					NOT = { has_character_modifier = settler_button_2_mf }
				}
				add_character_modifier = {
					modifier = settler_button_2_mf
					years = 5
				}
				primary_title = { change_variable = { name = azeroth_settlers subtract = 200 } }
			}
			1 = {
				trigger = {
					any_sub_realm_county = {
						NOT = { culture = root.culture  }
					}
				}
				random_sub_realm_county = {
					limit = {
						NOT = { culture = root.culture  }
					}
					save_temporary_scope_as = settled_county
				}
				scope:settled_county = {
					set_county_culture = root.culture
				}
				primary_title = { change_variable = { name = azeroth_settlers subtract = 300 } }
			}
			1 = {
				spawn_army = {
					uses_supply = no
					inheritable = yes
					name = remnants_of_alliance_troops
					levies = {
						value = 300
					}
					men_at_arms = {
						type = armored_footmen
						stacks = 1
					}
					location = capital_province
					origin = capital_province
				}
				primary_title = { change_variable = { name = azeroth_settlers subtract = 400 } }
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 300
	}
}
ai_policy_theramore_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"

	ai_check_interval = 24

	cost = {
		prestige = 1 # you must be respected at least with 1 prestige...
	}

	cooldown = { days = 1460 }

	is_shown = {
		is_independent_ruler = yes
		is_landed = yes
		is_theramorean_descendant_culture = yes
		is_ai = yes
		primary_title = {
			has_variable = azeroth_settlers
		}
	}

	effect = {
		primary_title = {
			random = {
				chance = 40
				random_list = {
					1 = {
						if = {
							limit = {
								has_variable_list = list_of_flag_laws
								OR = {
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_trade_1
									}
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_trade_3
									}
								}
							}
							remove_list_variable = { name = list_of_flag_laws target = flag:law_trade_1 }
							remove_list_variable = { name = list_of_flag_laws target = flag:law_trade_3 }
							root = { if = { limit = { has_character_modifier = policy_2_a_mod } remove_character_modifier = policy_2_a_mod } }
						}
						else = {
							random_list = {
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_trade_1 } root = { add_character_modifier = { modifier = policy_2_a_mod years = 6 } } }
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_trade_3 } }
							}
						}
					}
					1 = {
						if = {
							limit = {
								has_variable_list = list_of_flag_laws
								OR = {
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_union_1
									}
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_union_3
									}
								}
							}
							remove_list_variable = { name = list_of_flag_laws target = flag:law_union_1 }
							remove_list_variable = { name = list_of_flag_laws target = flag:law_union_3 }
						}
						else = {
							random_list = {
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_union_1 } }
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_union_3 } }
							}
						}
					}
					1 = {
						if = {
							limit = {
								has_variable_list = list_of_flag_laws
								OR = {
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_culture_1
									}
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_culture_3
									}
								}
							}
							remove_list_variable = { name = list_of_flag_laws target = flag:law_culture_1 }
							remove_list_variable = { name = list_of_flag_laws target = flag:law_culture_3 }
						}
						else = {
							random_list = {
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_culture_1 } }
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_culture_3 } }
							}
						}
					}
					1 = {
						if = {
							limit = {
								has_variable_list = list_of_flag_laws
								OR = {
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_faith_1
									}
									is_target_in_variable_list = {
										name = list_of_flag_laws
										target = flag:law_faith_3
									}
								}
							}
							remove_list_variable = { name = list_of_flag_laws target = flag:law_faith_1 }
							remove_list_variable = { name = list_of_flag_laws target = flag:law_faith_3 }
						}
						else = {
							random_list = {
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_faith_1 } }
								1 = { add_to_variable_list = { name = list_of_flag_laws target = flag:law_faith_3 } }
							}
						}
					}
				}
			}
		}
	}
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 300
	}
}
