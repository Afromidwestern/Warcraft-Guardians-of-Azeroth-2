@criminal_authority_cooldown_years = 20

criminal_authority = {
	default = criminal_authority_3
	cumulative = no
	flag = realm_law

	criminal_authority_0 = { ##Vigilante 3 - Leader of the People
		modifier = {
			domain_limit = -5
			vassal_limit = -20
			county_opinion_add = 50
			independent_ruler_opinion = -30
			vassal_levy_contribution_mult = 1
		}

		flag = uses_criminal_authority

		can_keep = { realm_law_use_criminal_authority = yes }

		on_pass = {
			set_variable = {
				name = criminal_authority_cooldown
				years = @criminal_authority_cooldown_years
			}
			# Remove modifiers.
			remove_law_related_modifiers_effect = yes
		}
		
		can_pass = {
			has_realm_law = criminal_authority_1
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
			}
		}
	}
	
	criminal_authority_1 = { ##Vigilante 2 - A Different Way To Live
		modifier = {
			domain_limit = -5
			vassal_limit = -10
			county_opinion_add = 30
			independent_ruler_opinion = -15
			vassal_levy_contribution_mult = 0.5
		}

		flag = uses_criminal_authority
		flag = title_revocation_allowed
		flag = vassal_retraction_allowed
		flag = can_change_partition_succession_laws
		flag = diarchs_want_to_subsidise_without_this_flag
		can_keep = { realm_law_use_criminal_authority = yes }

		can_pass = {
			has_realm_law = criminal_authority_0
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
	texture = "gfx/interface/icons/laws/demonic_authority_0.dds"
			}
		}

	}
	
	criminal_authority_2 = { ##Vigilante 1 - Voice for the Masses
		modifier = {
			domain_limit = -5
			vassal_limit = -5
			county_opinion_add = 15
			independent_ruler_opinion = -5
			vassal_levy_contribution_mult = 0.25
		}

		flag = uses_criminal_authority
		flag = vassal_internal_wars_banned
		flag = vassal_refusal_is_treason
		flag = can_change_succession_laws
		flag = titles_cannot_leave_realm_on_succession # Hardcoded flag
		
		can_keep = { realm_law_use_criminal_authority = yes }
		can_pass = {
			has_realm_law = criminal_authority_1
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
			}
		}
	}
	
	criminal_authority_3 = { ##Outlawed
		modifier = {

		vassal_limit = -10
		domain_limit = -5

		}
		flag = uses_criminal_authority
		flag = vassal_all_wars_banned
		flag = can_designate_heirs
		flag = max_authority_level
		
		can_keep = { realm_law_use_criminal_authority = yes }
		on_pass = {
			set_variable = {
				name = criminal_authority_cooldown
				years = @criminal_authority_cooldown_years
			}
			remove_law_related_modifiers_effect = yes
		}
		can_pass = {
				OR = {
					has_realm_law = criminal_authority_2
					has_realm_law = criminal_authority_4
				}
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
			}
		}
		pass_cost = {
			prestige = {
				if = {
					limit = {
						NOR = {
							has_realm_law = criminal_authority_2
							has_realm_law = criminal_authority_3
						}
					}
					add = increase_crown_authority_prestige_cost
				}
			}
		}
	}

	criminal_authority_4 = { ##Bandit 1 - A Path to Banditry
		modifier = {
			domain_limit = -5
			vassal_limit = -5
			levy_size = -0.5
			intimidated_vassal_tax_contribution_mult = 0.05
			intimidated_vassal_levy_contribution_mult = 0.05
			cowed_vassal_tax_contribution_mult = 0.05
			cowed_vassal_levy_contribution_mult = 0.05
		}

		flag = uses_criminal_authority
		flag = vassal_all_wars_banned
		flag = can_designate_heirs
		flag = max_authority_level
		
		can_keep = { realm_law_use_criminal_authority = yes }
		can_pass = {
			has_realm_law = criminal_authority_3
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
			}
		}
	}

	criminal_authority_5 = { ##Bandit 2  - A Wolf Among Sheep
		modifier = {
			domain_limit = -5
			vassal_limit = -20
			vassal_opinion = -15
			levy_size = -1.5
			intimidated_vassal_tax_contribution_mult = 1
			intimidated_vassal_levy_contribution_mult = 1
			cowed_vassal_tax_contribution_mult = 1
			cowed_vassal_levy_contribution_mult = 1
		
		}
		flag = uses_criminal_authority
		flag = vassal_all_wars_banned
		flag = can_designate_heirs
		flag = max_authority_level
		can_keep = { realm_law_use_criminal_authority = yes }
		can_pass = {
			has_realm_law = criminal_authority_4
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
			}
		}
	}
	
	criminal_authority_6 = { ##Bandit 3 - This Land is Mine
		modifier = {
			domain_limit = -5
			vassal_limit = -30
			vassal_opinion = -15
			levy_size = -3
			intimidated_vassal_tax_contribution_mult = 2
			intimidated_vassal_levy_contribution_mult = 2
			cowed_vassal_tax_contribution_mult = 2
			cowed_vassal_levy_contribution_mult = 2
		}
		flag = uses_criminal_authority
		flag = vassal_all_wars_banned
		flag = can_designate_heirs
		flag = max_authority_level
		
		can_keep = { realm_law_use_criminal_authority = yes }

		on_pass = {
			set_variable = {
				name = criminal_authority_cooldown
				years = @criminal_authority_cooldown_years
			}
			remove_law_related_modifiers_effect = yes
		}
		can_pass = {
			has_realm_law = criminal_authority_5
			custom_description = {
				subject = root
				text = "has_criminal_authority_cooldown"
				NAND = {
					has_variable = criminal_authority_cooldown
					NOT = {
						culture = { has_innovation = innovation_all_things }
					}
				}
			}
		}
	}
}
