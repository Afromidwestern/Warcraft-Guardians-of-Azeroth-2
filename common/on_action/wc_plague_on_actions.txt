# PLAGUE ON ACTIONS
## PURGE ON ACTIONS
### START ON ACTIONS
purge_start_pulse = {
	first_valid_on_action = {
		purge_start_pulse_aux
		purge_start_pulse_transition
	}
}

purge_start_pulse_aux = {
	trigger = {
		root = {
			has_variable = purge_event_tick
			var:purge_event_tick < 10
		}
	}

	random_events = {
		100 = purge.0011
		1 = purge.0010
	}
}

purge_start_pulse_transition = {
	trigger = {
		root = {
			has_variable = purge_event_tick
			var:purge_event_tick >= 10
		}
	}

	on_actions = {
		purge_middle_pulse
	}

	effect = {
		root = {
			set_variable = {
				name = purge_event_tick
				value = 0
			}
		}
	}
}

### MIDDLE ACTIONS
purge_middle_pulse = {
	first_valid_on_action = {
		purge_middle_pulse_aux
		purge_middle_pulse_transition
	}
}

purge_middle_pulse_aux = {
	trigger = {
		root = {
			has_variable = purge_event_tick
			var:purge_event_tick < 10
		}
	}

	random_events = {
		100 = purge.1001
		1 = purge.1000
	}
}

purge_middle_pulse_transition = {
	trigger = {
		root = {
			has_variable = purge_event_tick
			var:purge_event_tick >= 10
		}
	}

	on_actions = {
		purge_end_pulse
	}

	effect = {
		root = {
			set_variable = {
				name = purge_event_tick
				value = 0
			}
		}
	}
}

### END ACTIONS
purge_end_pulse = {
	first_valid_on_action = {
		purge_end_pulse_aux
		purge_end_pulse_transition
	}
}

purge_end_pulse_aux = {
	trigger = {
		root = {
			has_variable = purge_event_tick
			var:purge_event_tick < 10
		}
	}

	random_events = {
		100 = purge.0101
		1 = purge.0100
	}
}

purge_end_pulse_transition = {
	trigger = {
		root = {
			has_variable = purge_event_tick
			var:purge_event_tick >= 10
		}
	}

	# on_actions = {
		
	# }

	effect = {
		root = {
			remove_variable = purge_event_tick
		}

		# clean plague
	}
}