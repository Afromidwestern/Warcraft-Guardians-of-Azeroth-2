min_dark_frenzy_value = 0
max_dark_frenzy_value = 100

dark_frenzy_3_value = 75
dark_frenzy_2_value = 50
dark_frenzy_1_value = 25
start_dark_frenzy_value = 65

dark_frenzy_percent_value = {
	value = 0
	if = {
		limit = { exists = var:dark_frenzy }
		add = var:dark_frenzy
	}
	divide = max_dark_frenzy_value
	
	min = 0
	max = 1
}

# Used in GUI
dark_frenzy_next_level_value = {
	value = 0
	if = {
		limit = { exists = var:dark_frenzy }
		if = {
			limit = { var:dark_frenzy < dark_frenzy_1_value }
			value = dark_frenzy_1_value
		}
		else_if = {
			limit = { var:dark_frenzy < dark_frenzy_2_value }
			value = dark_frenzy_2_value
		}
		else = {
			value = dark_frenzy_3_value
		}
	}
}

yearly_dark_frenzy_total_value = {
	value = 0
	add = yearly_dark_frenzy_decay_value
}
yearly_dark_frenzy_decay_value = {
	add = -1
	if = {
		limit = { has_realm_law = dark_authority_1 }
		multiply = 2
	}
	else_if = {
		limit = { has_realm_law = dark_authority_2 }
		multiply = 3
	}
	else_if = {
		limit = { has_realm_law = dark_authority_3 }
		multiply = 4
	}
}

dark_frenzy_from_killed_soldiers_value = {
	value = root.side_commander.var:start_side_soldiers
	subtract = root.side_commander.var:end_side_soldiers
	multiply = 0.007		# 10 Dark Frenzy for 1500 soldiers
	
	min = 1
	max = 20
}