this_union_leader_realm_size = 30
this_union_leader_values = {
	value = 0
	add = {
		value = diplomacy
		multiply = 1.5
	}
	add = {
		value = realm_size
		multiply = 0.25
	}
	add = {
		value = max_military_strength
		multiply = 0.01
	}
}
gui_union_leader_condidate_score = {
	value = 0
	if = {
		limit = {
			has_variable = this_union
			any_in_global_list = {
				variable = all_unions
				var:this_union = prev.var:this_union
				save_temporary_scope_as = my_union
			}
		}
	}
	else_if = {
		limit = {
			has_variable = temp_union
			any_in_global_list = {
				variable = all_unions
				var:this_union = prev.var:temp_union
				save_temporary_scope_as = my_union
			}
		}
	}
	#Age bonus *10
	add = {
		value = age divide = racial_age_multiplier_value multiply = 10
		ceiling = yes
		desc = union_sv_age
	}
	#Prestige level bonus
	add = {
		value = prestige_level subtract = 1 multiply = 500
		desc = union_sv_prestige_lvl
	}
	#Sum of attributes *10
	add = {
		value = diplomacy
		add = martial
		add = stewardship
		add = intrigue
		add = learning
		multiply = 10
		desc = union_sv_sum_attr
	}
	#Preferable attribute of union *100
	if = {
		limit = { exists = scope:my_union }
		if = {
			limit = {
				scope:my_union.var:this_union = flag:alliance
			}
			add = {
				value = diplomacy
				subtract = 10
				multiply = 100
				desc = union_alliance_dip_bonus
			}
		}
		else_if = {
			limit = {
				scope:my_union.var:this_union = flag:horde
			}
			add = {
				value = martial
				subtract = 10
				multiply = 100
				desc = union_horde_mar_bonus
			}
		}
		#Primary heir bonus/penalty
		if = {
			limit = { exists = scope:my_union.story_owner.primary_heir this = scope:my_union.story_owner.primary_heir }
			if = {
				limit = {
					scope:my_union.var:this_union = flag:alliance
				}
				add = {
					value = 4000
					desc = union_primheir_bonus
				}
			}
			else_if = {
				limit = {
					scope:my_union.var:this_union = flag:horde
				}
				add = {
					value = -500
					desc = union_primheir_penalty
				}
			}
			add = {
				value = scope:my_union.story_owner.primary_title.tier
				subtract = 1
				multiply = 250
				desc = union_tier_bonus
			}
		}
		#Tier level bonus
		else_if = {
			limit = { is_ruler = yes }
			add = {
				value = primary_title.tier
				subtract = 1
				multiply = 250
				desc = union_tier_bonus
			}
		}
	}
	if = {
		limit = { has_trait = ambitious }
		add = {
			value = 1000
			desc = union_ambitious_trait
		}
	}
	#Campaign fund
	if = {
		limit = { has_variable = campaign_fund }
		add = {
			value = var:campaign_fund
			desc = union_campaign_fund
		}
	}
	min = 0
}
### Inviting and joining
join_common_decision = {
	value = 0
	if = {
		limit = { has_crisis_on_same_continent_trigger = yes }
		add = 2
	}
	if = {
		limit = { highest_held_title_tier >= tier_kingdom }
		add = 2
	}
	if = {
		limit = {
			OR = {
				has_title = title:d_syndicate
				has_title = title:d_defias_brotherhood
				has_title = title:d_darkmoon_island
				has_character_flag = is_medivh_flag
				culture = { has_cultural_tradition = tradition_practiced_pirates }
			}
		}
		multiply = 0
	}
}

join_alliance_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_alliance_religion_trigger = yes }
		multiply = 7
	}
	if = {
		limit = { has_alliance_culture_trigger = yes }
		multiply = 7
	}
	if = {
		limit = {
			OR = {
				union_overcrowded_trigger = { faction = alliance }
				is_aggressive_trigger = yes
			}
		}
		multiply = 0
	}
}

join_horde_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_horde_religion_trigger = yes }
		add = 7
	}
	if = {
		limit = { has_horde_culture_trigger = yes }
		add = 7
	}
	if = {
		limit = {
			OR = {
				union_overcrowded_trigger = { faction = horde }
				is_aggressive_trigger = yes
			}
		}
		multiply = 0
	}
}

join_custom_union_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_custom_union_religion_trigger = yes }
		add = 14
	}
	if = {
		limit = { has_custom_union_culture_trigger = yes }
		add = 14
	}
	if = {
		limit = {
			union_overcrowded_trigger = { faction = custom }
		}
		multiply = 0
	}
}

join_illidari_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_illidari_religion_trigger = yes }
		multiply = 7
	}
	if = {
		limit = { has_illidari_culture_trigger = yes }
		multiply = 7
	}
	if = {
		limit = {
			union_overcrowded_trigger = { faction = illidari_forces }
		}
		multiply = 0
	}
}
join_dragonflights_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_draconic_religion_trigger = yes }
		add = 7
	}
	if = {
		limit = { has_draconic_culture_trigger = yes }
		add = 7
	}
	if = {
		limit = {
			OR = {
				union_overcrowded_trigger = { faction = dragon_forces }
				is_aggressive_trigger = yes
			}
		}
		multiply = 0
	}
}
join_scourge_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_scourge_religion_trigger = yes }
		multiply = 7
	}
	if = {
		limit = { has_scourge_culture_trigger = yes }
		multiply = 7
	}
	if = {
		limit = {
			union_overcrowded_trigger = { faction = scourge_forces }
		}
		multiply = 0
	}
}
join_axisawful_decision = {
	value = join_common_decision
	
	if = {
		limit = { has_axisawful_religion_trigger = yes }
		multiply = 7
	}
	if = {
		limit = { has_axisawful_culture_trigger = yes }
		multiply = 7
	}
	if = {
		limit = {
			OR = {
				union_overcrowded_trigger = { faction = axis_of_awful }
				faith = { has_doctrine = special_doctrine_end_justifies_means }
			}
		}
		multiply = 0
	}
}

