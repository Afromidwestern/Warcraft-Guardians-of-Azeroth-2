find_arthas_effect = {
	save_scope_as = terenas
	
	every_close_or_extended_family_member = { add_to_temporary_list = valid_arthases }
	every_courtier = { add_to_temporary_list = valid_arthases }
	every_vassal = { add_to_temporary_list = valid_arthases }
	ordered_in_list = {
		limit = {
			is_valid_arthas_expedition_member_trigger = yes
			can_be_invited_in_arthas_expedition_trigger = { INVITER = scope:terenas }
		}
		list = valid_arthases
		order_by = find_arthas_value
		max = 1
		
		save_scope_as = arthas
		scope:activity = { set_variable = { name = arthas value = scope:arthas } }
	}
}
find_uther_effect = {
	save_scope_as = arthas
	
	every_courtier = { add_to_temporary_list = valid_uthers }
	every_vassal = { add_to_temporary_list = valid_uthers }
	top_liege = {
		every_courtier = { add_to_temporary_list = valid_uthers }
		every_vassal = { add_to_temporary_list = valid_uthers }
	}
	faith = {
		every_faith_holy_order = { leader = { add_to_temporary_list = valid_uthers } }
	}
	ordered_in_list = {
		limit = {
			is_ai = yes
			
			is_valid_arthas_expedition_member_trigger = yes
			can_be_invited_in_arthas_expedition_trigger = { INVITER = scope:arthas }
		}
		list = valid_uthers
		order_by = find_uther_value
		max = 1
		
		save_scope_as = uther
		scope:activity = { set_variable = { name = uther value = scope:uther } }
	}
}
find_jaina_effect = {
	save_scope_as = arthas
	
	every_courtier = { add_to_temporary_list = valid_jainas }
	every_vassal = { add_to_temporary_list = valid_jainas }
	top_liege = {
		every_courtier = { add_to_temporary_list = valid_jainas }
		every_vassal = { add_to_temporary_list = valid_jainas }
	}
	every_relation = {
		type = lover
		add_to_temporary_list = valid_jainas
	}
	every_relation = {
		type = soulmate
		add_to_temporary_list = valid_jainas
	}
	ordered_in_list = {
		limit = {
			is_ai = yes
			
			is_valid_arthas_expedition_member_trigger = yes
			can_be_invited_in_arthas_expedition_trigger = { INVITER = scope:arthas }
		}
		list = valid_jainas
		order_by = find_jaina_value
		max = 1
		
		save_scope_as = jaina
		scope:activity = { set_variable = { name = jaina value = scope:jaina } }
	}
}
find_kelthuzad_effect = {
	save_scope_as = arthas
	
	title:e_scourge.holder = {
		save_scope_as = nerzhul
		every_courtier = { add_to_temporary_list = valid_kelthuzads }
		every_vassal = { add_to_temporary_list = valid_kelthuzads }
	}
	ordered_in_list = {
		limit = {
			is_ai = yes
			
			is_available_for_activity_trigger = yes
			
			faith = scope:nerzhul.faith
		}
		list = valid_kelthuzads
		order_by = find_kelthuzad_value
		max = 1
		
		save_scope_as = kelthuzad
		scope:activity = { set_variable = { name = kelthuzad value = scope:kelthuzad } }
	}
}

join_arthas_expedition_effect = {
	custom_description = {
		text = join_draenor_expedition_tooltip
		
		object = scope:activity
		
		scope:activity = {
			invite_character_to_activity = prev
			accept_invitation_for_character = prev
		}
	}
}
leave_arthas_expedition_effect = {
	custom_description = {
		text = leave_arthas_expedition_effect
		
		object = scope:activity
		
		scope:activity = {
			decline_invitation_for_character = prev
		}
	}
}
