purge_historical_character_effect = {
	set_to_lowborn = yes
	# Basically reset parents
	if = {
		limit = { exists = father }
		set_father = dummy_male
	}
	if = {
		limit = { exists = real_father }
		set_real_father = dummy_male
	}
	if = {
		limit = { exists = mother }
		set_real_father = dummy_female
	}
	death = { death_reason = death_vanished }
}

add_patron_trait_character_effect = {
	# May add traits here later
}
add_fan_trait_character_effect = {
	# May add traits here later
}

add_class_warrior_LEVEL_character_history_effect = {
	# Physical
}
add_class_hunter_LEVEL_character_history_effect = {
	# Physical
}
add_class_rogue_LEVEL_character_history_effect = {
	# Physical
}
add_class_paladin_LEVEL_character_history_effect = {
	# Physical
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = light LEVEL = $LEVEL$ }
}
add_class_deathknight_LEVEL_character_history_effect = {
	# Physical
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = death LEVEL = $LEVEL$ } # Top one is not working yet
}
add_class_monk_LEVEL_character_history_effect = {
	# Physical
	# Elemental
}
add_class_mage_LEVEL_character_history_effect = {
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = order LEVEL = $LEVEL$ }
}
add_class_priest_LEVEL_character_history_effect = {
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = light LEVEL = $LEVEL$ }
}
add_class_warlock_LEVEL_character_history_effect = {
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = disorder LEVEL = $LEVEL$ }
}
add_class_shaman_LEVEL_character_history_effect = {
	# Elemental
}
add_class_druid_LEVEL_character_history_effect = {
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = life LEVEL = $LEVEL$ }
}
add_class_witchdoctor_LEVEL_character_history_effect = {
	# A lot of things
}
add_class_necromancer_LEVEL_character_history_effect = {
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = death LEVEL = $LEVEL$ }
}
add_class_shadowpriest_LEVEL_character_history_effect = {
	add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = { MAGIC = shadow LEVEL = $LEVEL$ }
}

add_1_perk_in_MAGIC_TREE_effect = {
	# # if = {
		# # limit = {
			# # perks_in_tree = { tree = $MAGIC$_magic_tree_$TREE$ value < 9 }
		# # }

		# switch = {
			# trigger = has_perk

			# $MAGIC$_magic_tree_$TREE$_perk_8 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_9 }
			# $MAGIC$_magic_tree_$TREE$_perk_7 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_8 }
			# $MAGIC$_magic_tree_$TREE$_perk_6 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_7 }
			# $MAGIC$_magic_tree_$TREE$_perk_5 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_6 }
			# $MAGIC$_magic_tree_$TREE$_perk_4 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_5 }
			# $MAGIC$_magic_tree_$TREE$_perk_3 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_4 }
			# $MAGIC$_magic_tree_$TREE$_perk_2 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_3 }
			# $MAGIC$_magic_tree_$TREE$_perk_1 = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_2 }
			# fallback = { add_perk = $MAGIC$_magic_tree_$TREE$_perk_1 }
		# }
	# # }
}

add_enought_perks_in_nonelemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = {
	# while = {
		# count = wc_perks_needed_for_level_$LEVEL$_magic_trait_value

		# random_list = {
			# 1 = {
				# trigger = {
					# perks_in_tree = { tree = $MAGIC$_magic_tree_1 value < 9 }
				# }

				# add_1_perk_in_MAGIC_TREE_effect = { MAGIC = $MAGIC$ TREE = 1 }
			# }
			# 1 = {
				# trigger = {
					# perks_in_tree = { tree = $MAGIC$_magic_tree_2 value < 9 }
				# }

				# add_1_perk_in_MAGIC_TREE_effect = { MAGIC = $MAGIC$ TREE = 2 }
			# }
			# 1 = {
				# trigger = {
					# perks_in_tree = { tree = $MAGIC$_magic_tree_3 value < 9 }
				# }

				# add_1_perk_in_MAGIC_TREE_effect = { MAGIC = $MAGIC$ TREE = 3 }
			# }
		# }
	# }
}

add_enought_perks_in_elemental_MAGIC_lifestyle_to_LEVEL_magic_user_trait_effect = {
	# while = {
		# count = wc_perks_needed_for_level_$LEVEL$_magic_trait_value

		# random_list = {
			# 1 = {
				# trigger = {
					# perks_in_tree = { tree = $MAGIC$_magic_tree_1 value < 9 }
				# }

				# add_1_perk_in_MAGIC_TREE_effect = { MAGIC = $MAGIC$ TREE = 1 }
			# }
			# 1 = {
				# trigger = {
					# perks_in_tree = { tree = $MAGIC$_magic_tree_2 value < 9 }
				# }

				# add_1_perk_in_MAGIC_TREE_effect = { MAGIC = $MAGIC$ TREE = 2 }
			# }
		# }
	# }
}