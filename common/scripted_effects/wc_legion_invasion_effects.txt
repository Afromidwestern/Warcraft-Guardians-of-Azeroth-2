legion_start_pack_effect = {
	add_gold = monumental_gold_max_value
	add_prestige = monumental_prestige_gain
	add_piety = massive_piety_gain
	
	add_dread = 100
	
	spawn_legion_troops_effect = yes
	spawn_legion_troops_effect = yes
}
spawn_legion_troops_effect = {
	if = {
		limit = { exists = capital_province }
		spawn_army = {
			uses_supply = no
			inheritable = yes
			name = legion_event_troops
			men_at_arms = {
				type = fel_guard
				stacks = 5
			}
			men_at_arms = {
				type = infernal
				stacks = 1
			}
			men_at_arms = {
				type = infernal_machine
				stacks = 5
			}
			location = capital_province
		}
	}
}

try_to_set_legion_story_owner = {
	if = {
		limit = {
			exists = title:e_burning_legion.holder
			OR = {
				story_owner = title:e_burning_legion.holder
				$OWNER$ = title:e_burning_legion.holder
			}
		}
		make_story_owner = $OWNER$
	}
	else = {
		end_legion_effect = yes
	}
}
legion_offer_vassalization_effect = { #very pieces of something for the corrupted to get vassalized
	save_scope_as = actor
	
	$TITLE$ = {
		every_de_jure_top_liege = {
			limit = {
				highest_held_title_tier < tier_empire
				faith = faith:orcish_fel
				is_ai = yes
			}
			save_scope_as = recipient
			
			offer_vassalization_interaction_effect = yes
		}
	}
}

end_legion_effect = {
	custom_description = {
		text = end_legion_tooltip
		
		find_legion_story_effect = yes
		
		on_end_legion_effect = yes
		if = {
			limit = { exists = scope:story }
			scope:story = { end_story = yes }
		}
	}
}
on_end_legion_effect = {
	if = {
		limit = { exists = title:e_burning_legion.holder }
		shatter_realm_effect = { WINNER = title:e_burning_legion.holder LOSER = title:e_burning_legion.holder }
	}
}


find_legion_story_effect = {
	if = {
		limit = {
			exists = scope:story
			scope:story = { story_type = story_legion_invasion }
		}
	}
	else = {
		random_owned_story = {
			limit = { story_type = story_legion_invasion }
			save_scope_as = story
		}
	}
}
