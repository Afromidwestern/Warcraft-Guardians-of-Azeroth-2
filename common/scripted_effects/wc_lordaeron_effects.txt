
#coming from title_on_actions we should have root = prev holder, scope:title = title is c_lordaeron changing hands, scope:new_holder = new holder
lordaeron_check_undercity_being_built = { 
	if = { 
		limit = { 
			AND = { 
				OR = { 
					#TODO: this code pattern is reused alot so move it into its own effect below
					
				}
				NOT = { 
					scope:new_holder = { 
						scope:culture = { 
							OR = { 
								scope:culture = { this = culture:forsaken }
								culture = { any_parent_culture = { 
									count >= 1
									culture = culture:forsaken
								}}
								top_liege = { 
									scope:culture = { this = culture:forsaken }
								}
								top_liege = { 
									scope:culture = {any_parent_culture = { 
										count >= 1
										culture = culture:forsaken
								}}}
							}
						}
					}
				}
			}
		}
		debug_log = "SS - ready to trigger lordaeron 1002"
		trigger_event = { 
			id = lordaeron.1002
			days = 1
		}
	}

}

#use in character scope
self_or_top_liege_is_of_forsaken_like_culture = { 

	if = {
		limit ={ 
			OR = {
				is_of_forsaken_like_culture = yes
				top_liege = { 
					is_of_forsaken_like_culture = yes
				}
			}
		}
	}

}

#use in character scope
is_of_forsaken_like_culture = { 

	if = {
		limit = { 
			culture = {
				OR = {
					this = culture:forsaken
					any_parent_culture = { 
						count >= 1
						this = culture:forsaken
					}
				}
			}
		}
	}

}