scourge_start_pack_effect = {
	add_gold = massive_gold_max_value
	add_prestige = monumental_prestige_gain
	add_piety = massive_piety_gain
	
	add_dread = 100
	
	spawn_scourge_troops_effect = yes
	spawn_scourge_troops_effect = yes
	spawn_scourge_troops_effect = yes
	spawn_scourge_troops_effect = yes
}
spawn_scourge_troops_effect = {
	if = {
		limit = { exists = capital_province }
		spawn_army = {
			uses_supply = no
			inheritable = yes
			name = scourge_event_troops
			levies = {
				value = 2500
			}
			men_at_arms = {
				type = light_footmen
				stacks = 5
			}
			men_at_arms = {
				type = bowmen
				stacks = 4
			}
			men_at_arms = {
				type = aerial_unit
				stacks = 2
			}
			men_at_arms = {
				type = armored_horsemen
				stacks = 2
			}
			men_at_arms = {
				type = trebuchet
				stacks = 5
			}
			location = capital_province
		}
	}
}
try_to_set_scourge_story_owner = {
	make_story_owner = $OWNER$
}
scourge_offer_vassalization_effect = {
	save_scope_as = actor
	save_scope_value_as = {
		name = turns_undead
		value = yes
	}
	
	$TITLE$ = {
		every_de_jure_top_liege = {
			limit = {
				highest_held_title_tier < tier_kingdom
				faith = faith:odyn
				is_ai = yes
			}
			save_scope_as = recipient
			
			offer_vassalization_interaction_effect = yes
		}
	}
}

find_scourge_jailer_and_save_to_scope_effect = {
	if = {
		limit = { any_scourge_jailer_is_avaliable_trigger = yes }
		if = {
			limit = {
				exists = scope:story
				scope:story = { story_type = story_scourge_invasion }
			}
		}
		else = {
			random_owned_story = {
				limit = { story_type = story_scourge_invasion }
				save_scope_as = story
			}
		}
	}
	
	scope:story = {
		random_in_list = {
			variable = nerzhul_jailors
			
			limit = { is_avaliable_scourge_jailer_trigger = yes }
			
			save_scope_as = scourge_jailer
		}
	}
}

imprison_scourge_jailor_consequences_effect = {
	if = {
		limit = {
			scope:recipient = { is_scourge_jailer_of_trigger = { TARGET = scope:actor } }
		}
		scope:actor = {
			if = {
				limit = { any_scourge_jailer_is_avaliable_trigger = yes }
				trigger_event = WCCSC.15
			}
		}
	}
}