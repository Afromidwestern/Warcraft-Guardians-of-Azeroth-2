MAGIC_magic_lifestyle_auto_selection_weight_add_base_trigger = {
	trigger_if = {
		limit = { faith = { has_doctrine_parameter = $MAGIC$_magic_approved } }

		OR = {
			has_trait = zealous
			is_clergy = yes
			has_trait = magic_good
			has_trait = magic_good_noninheritable
		}
	}
	trigger_else = { always = no }
}

can_openly_learn_light_magic_trigger = {
	trigger_if = {
		limit = {
			faith = { has_doctrine_parameter = elunic_light_magic_female_only }
			is_male = yes
		}
		is_cenarius_offspring_trigger = yes
	}
	faith = { has_doctrine_parameter = light_magic_openly_learnable }
}
can_openly_learn_shadow_magic_trigger = {
	faith = { has_doctrine_parameter = shadow_magic_openly_learnable }
}
can_openly_learn_disorder_magic_trigger = {
	faith = { has_doctrine_parameter = disorder_magic_openly_learnable }
}
can_openly_learn_order_magic_trigger = {
	faith = { has_doctrine_parameter = order_magic_openly_learnable }
}
can_openly_learn_life_magic_trigger = {
	trigger_if = {
		limit = {
			faith = { has_doctrine_parameter = elunic_life_magic_male_only }
			is_female = yes
		}
		is_cenarius_offspring_trigger = yes
	}
	faith = { has_doctrine_parameter = life_magic_openly_learnable }
}
can_openly_learn_death_magic_trigger = {
	faith = { has_doctrine_parameter = death_magic_openly_learnable }
}
can_openly_learn_elemental_spirit_magic_trigger = {
	faith = { has_doctrine_parameter = elemental_spirit_magic_openly_learnable }
}
can_openly_learn_elemental_decay_magic_trigger = {
	faith = { has_doctrine_parameter = elemental_decay_magic_openly_learnable }
}
can_openly_learn_elemental_fire_magic_trigger = {
	faith = { has_doctrine_parameter = elemental_fire_magic_openly_learnable }
}
can_openly_learn_elemental_water_magic_trigger = {
	faith = { has_doctrine_parameter = elemental_water_magic_openly_learnable }
}
can_openly_learn_elemental_air_magic_trigger = {
	faith = { has_doctrine_parameter = elemental_air_magic_openly_learnable }
}
can_openly_learn_elemental_earth_magic_trigger = {
	faith = { has_doctrine_parameter = elemental_earth_magic_openly_learnable }
}

has_focus_light_magic_trigger = {
	OR = {
		has_focus = light_magic_focus_1
		has_focus = light_magic_focus_2
		has_focus = light_magic_focus_3
	}
}
has_focus_shadow_magic_trigger = {
	OR = {
		has_focus = shadow_magic_focus_1
		has_focus = shadow_magic_focus_2
		has_focus = shadow_magic_focus_3
	}
}
has_focus_disorder_magic_trigger = {
	OR = {
		has_focus = disorder_magic_focus_1
		has_focus = disorder_magic_focus_2
		has_focus = disorder_magic_focus_3
	}
}
has_focus_order_magic_trigger = {
	OR = {
		has_focus = order_magic_focus_1
		has_focus = order_magic_focus_2
		has_focus = order_magic_focus_3
	}
}
has_focus_life_magic_trigger = {
	OR = {
		has_focus = life_magic_focus_1
		has_focus = life_magic_focus_2
		has_focus = life_magic_focus_3
	}
}
has_focus_death_magic_trigger = {
	OR = {
		has_focus = death_magic_focus_1
		has_focus = death_magic_focus_2
		has_focus = death_magic_focus_3
	}
}
has_focus_elemental_fire_magic_trigger = {
	OR = {
		has_focus = elemental_fire_magic_focus_1
		has_focus = elemental_fire_magic_focus_2
		has_focus = elemental_fire_magic_focus_3
	}
}
has_focus_elemental_water_magic_trigger = {
	OR = {
		has_focus = elemental_water_magic_focus_1
		has_focus = elemental_water_magic_focus_2
		has_focus = elemental_water_magic_focus_3
	}
}
has_focus_elemental_air_magic_trigger = {
	OR = {
		has_focus = elemental_air_magic_focus_1
		has_focus = elemental_air_magic_focus_2
		has_focus = elemental_air_magic_focus_3
	}
}
has_focus_elemental_earth_magic_trigger = {
	OR = {
		has_focus = elemental_earth_magic_focus_1
		has_focus = elemental_earth_magic_focus_2
		has_focus = elemental_earth_magic_focus_3
	}
}

has_focus_elemental_spirit_magic_trigger = {
	OR = {
		has_focus = elemental_fire_magic_focus_1
		has_focus = elemental_water_magic_focus_1
		has_focus = elemental_air_magic_focus_1
		has_focus = elemental_earth_magic_focus_1
	}
}
has_focus_elemental_decay_magic_trigger = {
	OR = {
		has_focus = elemental_fire_magic_focus_3
		has_focus = elemental_water_magic_focus_3
		has_focus = elemental_air_magic_focus_3
		has_focus = elemental_earth_magic_focus_3
	}
}
has_focus_elemental_neither_spirit_nor_decay_magic_trigger = {
	OR = {
		has_focus = elemental_fire_magic_focus_2
		has_focus = elemental_water_magic_focus_2
		has_focus = elemental_air_magic_focus_2
		has_focus = elemental_earth_magic_focus_2
	}
}
has_focus_elemental_magic_trigger = {
	OR = {
		has_focus_elemental_fire_magic_trigger = yes
		has_focus_elemental_water_magic_trigger = yes
		has_focus_elemental_air_magic_trigger = yes
		has_focus_elemental_earth_magic_trigger = yes
	}
}

MAGIC_lifestyle_is_valid_trigger = {
	trigger_if = {
		limit = { can_openly_learn_$MAGIC$_magic_trigger = no }

		OR = {
			$MAGIC$_magic_lifestyle_perks > 0
			$MAGIC$_magic_lifestyle_perk_points > 0
			$MAGIC$_magic_lifestyle_xp > 0	
		}
	}
}
# For some reason, the game checks previous trigger and require elemental_decay_magic_lifestyle_perks, elemental_decay_magic_lifestyle_perk_points and elemental_decay_magic_lifestyle_xp, but can't find it and trows an error, even inside of another trigger_if block. This is workaround.
MAGIC_focus_spirit_or_decay_is_valid_trigger = {
	trigger_if = {
		limit = { can_openly_learn_$MAGIC$_magic_trigger = no }

		always = no # TODO
	}
}