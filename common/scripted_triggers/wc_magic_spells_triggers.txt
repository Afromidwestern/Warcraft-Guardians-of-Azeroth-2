is_unknown_spell_trigger = {
	OR = {
		AND = {
			has_variable_list = known_spells
			any_in_list = { variable = known_spells this = $SPELL_NAME$ }
		}
		NOT = {	has_variable_list = known_spells }
	}
}

has_unlocked_spell_rank = {
	trigger_if = {
		limit = { # You know all ranks of the spell if you know the spell and it has no ranks
			NOT = { spell_has_ranks_trigger = { SPELL_NAME = $SPELL_NAME$ } } 
		}
		NOT = {
			is_unknown_spell_trigger = { { SPELL_NAME = $SPELL_NAME$ } }
		}
	}
	trigger_else_if = {
		limit = {
			OR = {
				$SPELL_RANK$ = 1
				$SPELL_RANK$ = flag:rank_1
			}
		}
		any_in_list = {
			variable = known_rank_1_spells
			this = $SPELL_NAME$
		}
	}
	trigger_else_if = {
		limit = {
			OR = {
				$SPELL_RANK$ = 2
				$SPELL_RANK$ = flag:rank_2
			}
		}
		any_in_list = {
			variable = known_rank_2_spells
			this = $SPELL_NAME$
		}
	}
	trigger_else_if = {
		limit = {
			OR = {
				$SPELL_RANK$ = 1
				$SPELL_RANK$ = flag:rank_3
			}
		}
		any_in_list = {
			variable = known_rank_3_spells
			this = $SPELL_NAME$
		}
	}
}

can_cast_spell_trigger = {
	NOT = { target_has_max_stacks_trigger = { SPELL = $SPELL_NAME$ TARGET = $TARGET$ } }
	NOT = { has_variable = $SPELL_NAME$_cooldown }
}

target_has_max_stacks_trigger = {
	trigger_if = {
		limit = {
			$SPELL_NAME$ = flag:summon_fire_elemental
		} # Max 1 stack
		$TARGET$ = { has_modifier = summon_fire_elemental_modifier }
	}
}

# ### IF YOUR SPELL CAN BE CHANNELED # REMOVING THIS FOR NOW
# can_channel_spell_trigger = {
# 	# spell names here 
# }

### SPELL TARGET TRIGGERS ###
## ONLY ONE CAN BE TRUE PER RANK ###
### IF THE SPELL HAS NO RANKS, ONLY ONE CAN BE TRUE ###

spell_target_is_character_list_trigger = { # Multiple characters

}

spell_target_is_province_or_title_trigger = { # One title
	AND = { $SPELL_NAME$ = flag:summon_fire_elemental OR = { $RANK_VALUE$ = 2 $RANK_VALUE$ = 3 } }
}

spell_target_is_province_or_title_list_trigger = { # Multiple titles

}

spell_target_is_character_trigger = { # One character
	AND = { $SPELL_NAME$ = flag:summon_fire_elemental $RANK_VALUE$ = 1 }
}

spell_target_is_only_self_trigger = {

}

## ELEMENTAL SPELLS GO HERE
spell_is_elemental_trigger = {
	#OR = {
		$SPELL_NAME$ = flag:summon_fire_elemental
	#}
}


## IF YOUR SPELL HAS RANKS IT GOES HERE
spell_has_ranks_trigger = {
	#OR = {
		$SPELL_NAME$ = flag:summon_fire_elemental
	#}
}