
# SECRET MURDER ATTEMPT
secret_plague_attempt_is_valid_trigger = {
	NOT = { $OWNER$ = $TARGET$ } # Murder requires two people

	trigger_if = { # If the target is dead, check that the killer isn't the owner since then the attempt isn't really an attempt...
		limit = {
			$TARGET$ = { is_alive = no }
			exists = $TARGET$.killer
		}
		NOT = {
			$TARGET$.killer = $OWNER$
		}
	}
}

secret_plague_attempt_is_shunned_trigger = {
	$TARGET$ = {
		save_temporary_scope_as = attempted_plague_target
	}
	$OWNER$ = {
		OR = {
			NOT = { exists = liege }
			any_liege_or_above = {
				NOR = {
					this = scope:attempted_plague_target
					is_spouse_of = scope:attempted_plague_target
					is_close_family_of = scope:attempted_plague_target
				}
			}
			#You are your own liege (independent) or have no liege (pool)
			liege = this
		}
	}
}

secret_plague_attempt_is_criminal_trigger = {
	$TARGET$ = {
		save_temporary_scope_as = attempted_plague_target
	}
	$OWNER$ = {
		any_liege_or_above = {
			NOR = {
				this = scope:attempted_plague_target
				is_spouse_of = scope:attempted_plague_target
				is_close_family_of = scope:attempted_plague_target
			}
		}
	}
}
#SECRET MURDER ATTEMPT - END

# has_plagued_baronies = {
# 	first = I_HAVE_PLAGUED_COUNTY
# }