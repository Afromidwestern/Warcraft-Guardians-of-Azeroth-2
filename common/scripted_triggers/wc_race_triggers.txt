has_race_trait_trigger = {
	# Add new races always at the end
	OR = {
		has_trait = creature_human
		has_trait = creature_orc
		has_trait = creature_ogre
		has_trait = creature_troll
		has_trait = creature_murloc
		has_trait = creature_gnoll
		has_trait = creature_kobold
		has_trait = creature_dwarf
		has_trait = creature_gnome

		# High elves
		has_trait = creature_high_elf
		has_trait = creature_blood_elf

		has_trait = creature_naga

		# Red dragons
		has_trait = creature_red_whelp
		has_trait = creature_red_drake
		has_trait = creature_red_dragon
		has_trait = creature_red_wyrm

		# Blue dragons
		has_trait = creature_blue_whelp
		has_trait = creature_blue_drake
		has_trait = creature_blue_dragon
		has_trait = creature_blue_wyrm

		# Green dragons
		has_trait = creature_green_whelp
		has_trait = creature_green_drake
		has_trait = creature_green_dragon
		has_trait = creature_green_wyrm

		# Black dragons
		has_trait = creature_black_whelp
		has_trait = creature_black_drake
		has_trait = creature_black_dragon
		has_trait = creature_black_wyrm

		has_trait = creature_goblin
		has_trait = creature_pygmy
		has_trait = creature_hozen
		has_trait = creature_draenei
		has_trait = creature_arakkoa_corrupted

		# Undeads
		has_trait = creature_abomination
		has_trait = creature_lich
		has_trait = creature_wickerman
		has_trait = creature_wicker_behemoth
		has_trait = creature_wicker_golem
		
		# Demons
		has_trait = creature_annihilan
		has_trait = creature_nathrezim
		has_trait = creature_eredruin
		has_trait = creature_fel_orc
		has_trait = creature_satyr
		has_trait = creature_eredar
		has_trait = creature_sayaadi
		has_trait = creature_shivarra
		has_trait = creature_observer

		# Elementals
		# has_trait = creature_air_elemental
		# has_trait = creature_earth_elemental
		# has_trait = creature_fire_elemental
		has_trait = creature_flamewaker
		# has_trait = creature_water_elemental

		has_trait = creature_iron_dwarf
		has_trait = creature_vrykul
		has_trait = creature_tuskarr
		has_trait = creature_magnataur
		has_trait = creature_furbolg
		has_trait = creature_gorloc
		has_trait = creature_watcher
		has_trait = creature_wolvar
		has_trait = creature_taunka
		has_trait = creature_kvaldir
		has_trait = creature_nerubian
		has_trait = creature_harpy
		has_trait = creature_mechagnome
		has_trait = creature_earthen

		# Bronze dragons
		has_trait = creature_bronze_whelp
		has_trait = creature_bronze_drake
		has_trait = creature_bronze_dragon
		has_trait = creature_bronze_wyrm

		has_trait = creature_giant

		has_trait = creature_nraqi
		has_trait = creature_cthraxxi

		has_trait = creature_night_elf
		has_trait = creature_tauren
		has_trait = creature_centaur
		has_trait = creature_quilboar
		has_trait = creature_tolvir
		has_trait = creature_qiraji
		has_trait = creature_dryad
		has_trait = creature_frostnymph
		has_trait = creature_highborne
		has_trait = creature_stone_tolvir

		# Infinite dragons
		has_trait = creature_infinite_whelp
		has_trait = creature_infinite_drake
		has_trait = creature_infinite_dragon
		has_trait = creature_infinite_wyrm

		has_trait = creature_vulpera
		has_trait = creature_sethrak
		has_trait = creature_titan_keeper
		has_trait = creature_titan

		# Ancients
		has_trait = creature_protector
		has_trait = creature_ancient_war
		has_trait = creature_ancient_lore
		has_trait = creature_ancient_wind
		
		# Pandaria
		has_trait = creature_pandaren
		has_trait = creature_jinyu
		has_trait = creature_ankoan
		has_trait = creature_mogu
		has_trait = creature_saurok
		has_trait = creature_grummle
		has_trait = creature_mantid
		has_trait = creature_yaungol
	}
}
has_character_race_trigger = {
	# Add new races always at the end
	trigger_if = { limit = { has_trait = creature_human 					} $CHARACTER$ = { has_trait = creature_human 					} }
	trigger_else_if = { limit = { is_orc_trigger = yes 					} $CHARACTER$ = { is_orc_trigger = yes 					} }
	trigger_else_if = { limit = { has_trait = creature_ogre 				} $CHARACTER$ = { has_trait = creature_ogre 					} }
	trigger_else_if = { limit = { has_trait = creature_troll 				} $CHARACTER$ = { has_trait = creature_troll 					} }
	trigger_else_if = { limit = { has_trait = creature_murloc 				} $CHARACTER$ = { has_trait = creature_murloc 				} }
	trigger_else_if = { limit = { has_trait = creature_gnoll 				} $CHARACTER$ = { has_trait = creature_gnoll 					} }
	trigger_else_if = { limit = { has_trait = creature_kobold 				} $CHARACTER$ = { has_trait = creature_kobold 				} }
	trigger_else_if = { limit = { has_trait = creature_dwarf 				} $CHARACTER$ = { has_trait = creature_dwarf 					} }
	trigger_else_if = { limit = { has_trait = creature_gnome 				} $CHARACTER$ = { has_trait = creature_gnome 					} }

	# High elves
	trigger_else_if = { limit = { is_high_elf_trigger = yes				} $CHARACTER$ = { is_high_elf_trigger = yes				} }
	trigger_else_if = { limit = { has_trait = creature_naga 				} $CHARACTER$ = { has_trait = creature_naga 					} }

	# Red dragons
	trigger_else_if = { limit = { is_red_dragon_trigger = yes			} $CHARACTER$ = { is_red_dragon_trigger = yes				} }

	# Blue dragons
	trigger_else_if = { limit = { is_blue_dragon_trigger = yes			} $CHARACTER$ = { is_blue_dragon_trigger = yes			} }
	
	# Green dragons
	trigger_else_if = { limit = { is_green_dragon_trigger = yes			} $CHARACTER$ = { is_green_dragon_trigger = yes			} }
	
	# Black dragons
	trigger_else_if = { limit = { is_black_dragon_trigger = yes			} $CHARACTER$ = { is_black_dragon_trigger = yes			} }
	
	trigger_else_if = { limit = { has_trait = creature_goblin 				} $CHARACTER$ = { has_trait = creature_goblin 				} }
	trigger_else_if = { limit = { has_trait = creature_pygmy 				} $CHARACTER$ = { has_trait = creature_pygmy 					} }
	trigger_else_if = { limit = { has_trait = creature_hozen 				} $CHARACTER$ = { has_trait = creature_hozen 					} }
	trigger_else_if = { limit = { is_eredar_trigger = yes 				} $CHARACTER$ = { is_eredar_trigger = yes 				} }
	trigger_else_if = { limit = { has_trait = creature_arakkoa_corrupted 	} $CHARACTER$ = { has_trait = creature_arakkoa_corrupted 		} }
	
	# Undeads
	trigger_else_if = { limit = { has_trait = creature_abomination 			} $CHARACTER$ = { has_trait = creature_abomination 			} }
	trigger_else_if = { limit = { has_trait = creature_lich 				} $CHARACTER$ = { has_trait = creature_lich 					} }
	trigger_else_if = { limit = { has_trait = creature_wickerman 			} $CHARACTER$ = { has_trait = creature_wickerman 			} }
	trigger_else_if = { limit = { has_trait = creature_wicker_behemoth 			} $CHARACTER$ = { has_trait = creature_wicker_behemoth 			} }
	trigger_else_if = { limit = { has_trait = creature_wicker_golem 			} $CHARACTER$ = { has_trait = creature_wicker_golem 			} }
	
	# Demons
	trigger_else_if = { limit = { has_trait = creature_annihilan 			} $CHARACTER$ = { has_trait = creature_annihilan 				} }
	trigger_else_if = { limit = { has_trait = creature_nathrezim 			} $CHARACTER$ = { has_trait = creature_nathrezim 				} }
	trigger_else_if = { limit = { has_trait = creature_eredruin 			} $CHARACTER$ = { has_trait = creature_eredruin 				} }
	trigger_else_if = { limit = { has_trait = creature_satyr 				} $CHARACTER$ = { has_trait = creature_satyr 					} }
	trigger_else_if = { limit = { has_trait = creature_sayaadi 				} $CHARACTER$ = { has_trait = creature_sayaadi 				} }
	trigger_else_if = { limit = { has_trait = creature_shivarra 			} $CHARACTER$ = { has_trait = creature_shivarra 				} }
	# trigger_else_if = { limit = { has_trait = creature_moarg 				} $CHARACTER$ = { has_trait = creature_moarg 					} }
	trigger_else_if = { limit = { has_trait = creature_observer 			} $CHARACTER$ = { has_trait = creature_observer 				} }
	
	# Elementals
	# trigger_else_if = { limit = { has_trait = creature_air_elemental 		} $CHARACTER$ = { has_trait = creature_air_elemental 			} }
	# trigger_else_if = { limit = { has_trait = creature_earth_elemental 		} $CHARACTER$ = { has_trait = creature_earth_elemental 		} }
	# trigger_else_if = { limit = { has_trait = creature_fire_elemental 		} $CHARACTER$ = { has_trait = creature_fire_elemental 		} }
	trigger_else_if = { limit = { has_trait = creature_flamewaker 			} $CHARACTER$ = { has_trait = creature_flamewaker 			} }
	# trigger_else_if = { limit = { has_trait = creature_water_elemental 		} $CHARACTER$ = { has_trait = creature_water_elemental 		} }
	
	trigger_else_if = { limit = { has_trait = creature_iron_dwarf 			} $CHARACTER$ = { has_trait = creature_iron_dwarf 			} }
	trigger_else_if = { limit = { has_trait = creature_vrykul 				} $CHARACTER$ = { has_trait = creature_vrykul 				} }
	trigger_else_if = { limit = { has_trait = creature_tuskarr 				} $CHARACTER$ = { has_trait = creature_tuskarr 				} }
	trigger_else_if = { limit = { has_trait = creature_magnataur 			} $CHARACTER$ = { has_trait = creature_magnataur 				} }
	trigger_else_if = { limit = { has_trait = creature_furbolg 				} $CHARACTER$ = { has_trait = creature_furbolg 				} }
	trigger_else_if = { limit = { has_trait = creature_gorloc 				} $CHARACTER$ = { has_trait = creature_gorloc 				} }
	trigger_else_if = { limit = { has_trait = creature_watcher 				} $CHARACTER$ = { has_trait = creature_watcher 				} }
	trigger_else_if = { limit = { has_trait = creature_wolvar 				} $CHARACTER$ = { has_trait = creature_wolvar 				} }
	trigger_else_if = { limit = { has_trait = creature_taunka 				} $CHARACTER$ = { has_trait = creature_taunka 				} }
	trigger_else_if = { limit = { has_trait = creature_kvaldir 				} $CHARACTER$ = { has_trait = creature_kvaldir 				} }
	trigger_else_if = { limit = { has_trait = creature_nerubian 			} $CHARACTER$ = { has_trait = creature_nerubian 				} }
	trigger_else_if = { limit = { has_trait = creature_harpy 				} $CHARACTER$ = { has_trait = creature_harpy 					} }
	trigger_else_if = { limit = { has_trait = creature_mechagnome 			} $CHARACTER$ = { has_trait = creature_mechagnome 			} }
	trigger_else_if = { limit = { has_trait = creature_earthen 				} $CHARACTER$ = { has_trait = creature_earthen 				} }
	
	# Bronze dragons
	trigger_else_if = { limit = { is_bronze_dragon_trigger = yes		} $CHARACTER$ = { is_bronze_dragon_trigger = yes			} }
	
	trigger_else_if = { limit = { has_trait = creature_giant 			} $CHARACTER$ = { has_trait = creature_giant 				} }

	trigger_else_if = { limit = { is_nraqi_trigger = yes				} $CHARACTER$ = { is_nraqi_trigger = yes 					} }

	trigger_else_if = { limit = { has_trait = creature_night_elf 			} $CHARACTER$ = { has_trait = creature_night_elf 				} }
	trigger_else_if = { limit = { has_trait = creature_tauren 				} $CHARACTER$ = { has_trait = creature_tauren 				} }
	trigger_else_if = { limit = { has_trait = creature_centaur 				} $CHARACTER$ = { has_trait = creature_centaur 				} }
	trigger_else_if = { limit = { has_trait = creature_quilboar 			} $CHARACTER$ = { has_trait = creature_quilboar 				} }
	trigger_else_if = { limit = { has_trait = creature_tolvir 				} $CHARACTER$ = { has_trait = creature_tolvir 				} }
	trigger_else_if = { limit = { has_trait = creature_qiraji 				} $CHARACTER$ = { has_trait = creature_qiraji 				} }
	trigger_else_if = { limit = { has_trait = creature_dryad 				} $CHARACTER$ = { has_trait = creature_dryad 					} }
	trigger_else_if = { limit = { has_trait = creature_frostnymph 			} $CHARACTER$ = { has_trait = creature_frostnymph 			} }
	trigger_else_if = { limit = { has_trait = creature_highborne			} $CHARACTER$ = { has_trait = creature_highborne 				} }
	trigger_else_if = { limit = { has_trait = creature_stone_tolvir 		} $CHARACTER$ = { has_trait = creature_stone_tolvir 				} }

		# Infinite Dragons
	trigger_else_if = { limit = { is_infinite_dragon_trigger = yes		} $CHARACTER$ = { is_infinite_dragon_trigger = yes		} }

	# trigger_else_if = { limit = { has_trait = creature_old_god 				} $CHARACTER$ = { has_trait = creature_old_god 				} }
	trigger_else_if = { limit = { has_trait = creature_vulpera 				} $CHARACTER$ = { has_trait = creature_vulpera 				} }
	trigger_else_if = { limit = { has_trait = creature_sethrak 				} $CHARACTER$ = { has_trait = creature_sethrak 				} }
	trigger_else_if = { limit = { has_trait = creature_titan_keeper 		} $CHARACTER$ = { has_trait = creature_titan_keeper 			} }
	trigger_else_if = { limit = { has_trait = creature_titan 				} $CHARACTER$ = { has_trait = creature_titan 					} }

		# Ancients
	trigger_else_if = { limit = { has_trait = creature_protector			} $CHARACTER$ = { has_trait = creature_protector				} }
	trigger_else_if = { limit = { has_trait = creature_ancient_war			} $CHARACTER$ = { has_trait = creature_ancient_war			} }
	trigger_else_if = { limit = { has_trait = creature_ancient_lore			} $CHARACTER$ = { has_trait = creature_ancient_lore			} }
	trigger_else_if = { limit = { has_trait = creature_ancient_wind			} $CHARACTER$ = { has_trait = creature_ancient_wind			} }
	
	trigger_else_if = { limit = { has_trait = creature_pandaren			} $CHARACTER$ = { has_trait = creature_pandaren			} }
	trigger_else_if = { limit = { has_trait = creature_jinyu			} $CHARACTER$ = { has_trait = creature_jinyu			} }
	trigger_else_if = { limit = { has_trait = creature_ankoan			} $CHARACTER$ = { has_trait = creature_ankoan			} }
	trigger_else_if = { limit = { has_trait = creature_mogu			} $CHARACTER$ = { has_trait = creature_mogu			} }
	trigger_else_if = { limit = { has_trait = creature_saurok			} $CHARACTER$ = { has_trait = creature_saurok			} }
	trigger_else_if = { limit = { has_trait = creature_grummle			} $CHARACTER$ = { has_trait = creature_grummle			} }
	trigger_else_if = { limit = { has_trait = creature_mantid			} $CHARACTER$ = { has_trait = creature_mantid			} }
	trigger_else_if = { limit = { has_trait = creature_yaungol			} $CHARACTER$ = { has_trait = creature_yaungol			} }
	
	# Fallback, always at the end
	trigger_else = {
		always = no
	}
}

# CAN'T HAS ROMANCES, MARRIAGES WITH CHARACTER IF IT'S NOT TRUE
can_has_sexual_relation_with_character = {
	can_marry_trigger = yes
	$CHARACTER$ = { can_marry_trigger = yes }
	
	# TODO
	# is_not_isolated_from_prev_trigger = yes
	
	# trigger_if = {
		# limit = {
			# has_game_rule = {
				# name = interracial_marriages
				# value = unrestricted
			# }
		# }
	# }
	# trigger_else = {
		OR = {
			# Racial relations
			has_character_race_trigger = { CHARACTER = $CHARACTER$ }

			# Distant interracial relations
			# trigger_if = {
				# limit = {
					# NOT = {
						# has_game_rule = {
							# name = interracial_marriages
							# value = off
						# }
					# }
				# }
				OR = {
					# Can have sexual relationship with all humanoids that can marry
					trigger_if = {
						limit = { has_trait = creature_sayaadi }
						$CHARACTER$ = {
							is_humanoid_trigger = yes
							can_marry_trigger = yes
						}
					}
					trigger_if = {
						limit = { $CHARACTER$ = { has_trait = creature_sayaadi } }
						is_humanoid_trigger = yes
						can_marry_trigger = yes
					}
					
					trigger_if = {
						limit = {
							OR = {
								has_trait = creature_human
								is_orc_trigger = yes
								is_elf_trigger = yes
								is_eredar_trigger = yes
							}
						}
						$CHARACTER$ = {
							OR = {
								has_trait = creature_human
								is_orc_trigger = yes
								is_elf_trigger = yes
								is_eredar_trigger = yes
							}
						}
					}
					
					trigger_if = {
						limit = {
							OR = {
								is_orc_trigger = yes
								has_trait = creature_ogre
							}
						}
						$CHARACTER$ = {
							OR = {
								is_orc_trigger = yes
								has_trait = creature_ogre
							}
						}
					}
					
					trigger_if = {
						limit = {
							OR = {
								has_trait = creature_human
								has_trait = creature_vrykul
							}
						}
						$CHARACTER$ = {
							OR = {
								has_trait = creature_human
								has_trait = creature_vrykul
							}
						}
					}

					# Fallback
					always = no
				}
			# }

			# Close interracial relations
			trigger_if = {
				limit = { is_dragon_race_trigger = yes }
				$CHARACTER$ = { is_dragon_race_trigger = yes }
			}
			trigger_else_if = {
				limit = { is_yaungol_trigger = yes }
				$CHARACTER$ = { is_yaungol_trigger = yes }
			}
			trigger_else_if = {
				limit = { OR = { has_trait = creature_earthen has_trait = creature_iron_dwarf } }
				$CHARACTER$ = { OR = { has_trait = creature_earthen has_trait = creature_iron_dwarf } }
			}
			trigger_else_if = {
				limit = { is_cenarius_offspring_trigger = yes }
				$CHARACTER$ = { is_cenarius_offspring_trigger = yes }
			}
		}
	# }
}

# Only humanoids made of meat and bones
is_humanoid_trigger = {
	custom_description = {
		text = is_humanoid_trigger_tooltip
		hidden_tooltip = {
			# NOT = { has_trait = being_demon }
			OR = {
				is_small_humanoid_trigger = yes
				is_medium_humanoid_trigger = yes
				is_large_humanoid_trigger = yes
			}
		}
	}
}
# Only humanoids made of meat and bones
is_small_humanoid_trigger = {
	custom_description = {
		text = is_small_humanoid_tooltip
		OR = {
			has_trait = creature_murloc
			has_trait = creature_kobold
			has_trait = creature_dwarf
			has_trait = creature_gnome
			has_trait = creature_goblin
			has_trait = creature_pygmy
			has_trait = creature_gorloc
			has_trait = creature_wolvar
			has_trait = creature_vulpera
			has_trait = creature_grummle
		}
	}
}
# Only humanoids made of meat and bones
is_medium_humanoid_trigger = {
	custom_description = {
		text = is_medium_humanoid_tooltip
		OR = {
			has_trait = creature_human
			is_orc_trigger = yes
			has_trait = creature_troll
			has_trait = creature_gnoll
			is_high_elf_trigger = yes
			has_trait = creature_naga
			has_trait = creature_hozen
			is_eredar_trigger = yes
			has_trait = creature_arakkoa_corrupted
			has_trait = creature_ghoul
			has_trait = creature_satyr
			has_trait = creature_sayaadi
			# has_trait = creature_moarg
			has_trait = creature_tuskarr
			has_trait = creature_furbolg
			has_trait = creature_nerubian
			has_trait = creature_harpy
			has_trait = creature_night_elf
			has_trait = creature_centaur
			has_trait = creature_quilboar
			has_trait = creature_tolvir
			has_trait = creature_dryad
			has_trait = creature_frostnymph
			has_trait = creature_highborne
			has_trait = creature_sethrak
			has_trait = creature_wickerman # sort of?
			has_trait = creature_pandaren
			has_trait = creature_jinyu
			has_trait = creature_ankoan
			has_trait = creature_mantid
			has_trait = creature_saurok
			has_trait = creature_stone_tolvir # sort of?		
		}
	}
}
# Only humanoids made of meat and bones
is_large_humanoid_trigger = {
	custom_description = {
		text = is_large_humanoid_tooltip
		OR = {
			has_trait = creature_ogre
			has_trait = creature_plague_eruptor
			has_trait = creature_abomination
			has_trait = creature_lich
			has_trait = creature_annihilan
			has_trait = creature_nathrezim
			has_trait = creature_eredruin
			has_trait = creature_shivarra
			has_trait = creature_vrykul
			has_trait = creature_magnataur
			has_trait = creature_taunka
			has_trait = creature_kvaldir
			has_trait = creature_giant
			has_trait = creature_nraqi
			has_trait = creature_cthraxxi
			has_trait = creature_tauren
			has_trait = creature_qiraji
			has_trait = creature_wicker_behemoth # sort of?
			has_trait = creature_wicker_golem # sort of?
			has_trait = creature_yaungol
			has_trait = creature_mogu
		}
	}
}

is_yaungol_trigger = {
	OR = {
		has_trait = creature_taunka
		has_trait = creature_tauren
		has_trait = creature_yaungol
	}
}
is_cenarius_offspring_trigger = {
	OR = {
		has_trait = creature_frostnymph
		has_trait = creature_dryad
		has_trait = creature_centaur
		has_trait = creature_magnataur
	}
}
is_nraqi_trigger = {
	OR = {
		has_trait = creature_nraqi
		has_trait = creature_cthraxxi
	}
}
is_orc_trigger = {
	OR = {
		has_trait = creature_orc
		has_trait = creature_fel_orc
	}
}
is_elf_trigger = {
	OR = {
		is_high_elf_trigger = yes
		has_trait = creature_night_elf
		has_trait = creature_highborne
	}
}
is_aqir_trigger = {
	OR = {
		has_trait = creature_nerubian
		has_trait = creature_qiraji
		has_trait = creature_mantid
	}
}
is_high_elf_trigger = {
	OR = {
		has_trait = creature_high_elf
		has_trait = creature_blood_elf
	}
}
is_eredar_trigger = {
	OR = {
		has_trait = creature_eredar
		has_trait = creature_draenei
	}
}
is_dragon_race_trigger = {
	custom_description = {
		text = is_dragon_race_trigger_tooltip
		OR = {
			is_red_dragon_trigger = yes
			is_blue_dragon_trigger = yes
			is_green_dragon_trigger = yes
			is_black_dragon_trigger = yes
			is_bronze_dragon_trigger = yes
			is_infinite_dragon_trigger = yes
		}
	}
}
is_red_dragon_trigger = {
	OR = {
		has_trait = creature_red_whelp
		has_trait = creature_red_drake
		has_trait = creature_red_dragon
		has_trait = creature_red_wyrm
	}
}
is_blue_dragon_trigger = {
	OR = {
		has_trait = creature_blue_whelp
		has_trait = creature_blue_drake
		has_trait = creature_blue_dragon
		has_trait = creature_blue_wyrm
	}
}
is_green_dragon_trigger = {
	OR = {
		has_trait = creature_green_whelp
		has_trait = creature_green_drake
		has_trait = creature_green_dragon
		has_trait = creature_green_wyrm
	}
}
is_black_dragon_trigger = {
	OR = {
		has_trait = creature_black_whelp
		has_trait = creature_black_drake
		has_trait = creature_black_dragon
		has_trait = creature_black_wyrm
	}
}
is_bronze_dragon_trigger = {
	OR = {
		has_trait = creature_bronze_whelp
		has_trait = creature_bronze_drake
		has_trait = creature_bronze_dragon
		has_trait = creature_bronze_wyrm
	}
}
is_infinite_dragon_trigger = {
	OR = {
		has_trait = creature_infinite_whelp
		has_trait = creature_infinite_drake
		has_trait = creature_infinite_dragon
		has_trait = creature_infinite_wyrm
	}
}