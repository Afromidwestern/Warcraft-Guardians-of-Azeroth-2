story_scourge_invasion = {
	on_setup = {
		# Gives the Scourge and first county
		story_owner = {
			save_scope_as =  nerzhul
			
			create_title_and_vassal_change = {
				type = conquest
				save_scope_as = change
				add_claim_on_loss = yes
			}
		}
		title:e_scourge = {
			change_title_holder = {
				holder = root.story_owner
				change = scope:change
				take_baronies = yes
			}
		}
		title:c_icecrown = {
			change_title_holder = {
				holder = root.story_owner
				change = scope:change
				take_baronies = yes
			}
		}
		resolve_title_and_vassal_change = scope:change

		story_owner = {
			# Delayed army spawn
			trigger_event = WCCSC.2
		}
		
		every_player = {
			limit = { get_news_from_region_trigger = { REGION = world_northrend } }
			trigger_event = WCCSC.5
		}
	}

	# Ends with Arthas waking up
	on_end = {
	}

	on_owner_death = {
		if = {
			limit = {
				exists = story_owner.primary_heir
			}
			try_to_set_scourge_story_owner = { OWNER = story_owner.primary_heir }
		}
		else = {
			end_story = yes
		}
	}
	
	# The story should pick another target for AI Horde to invade
	effect_group = {
		days = { 30 60 }

		trigger = {
			story_owner = {
				is_able_to_wage_war_trigger = yes
				has_title = title:e_scourge
			}
		}

		triggered_effect = {
			trigger = {
				story_owner = {
					is_ai = yes
				}
			}
			effect = {
				story_owner = {
					great_invader_target_evaluation_and_declaration_effect = { MULTIPLY = 1 }
				}
			}
		}
	}
	
	# Story handling in case of succession weirdness
	effect_group = {
		days = 180

		trigger = {
			story_owner = {
				NOT = { has_title = title:e_scourge }
			}
		}

		triggered_effect = {
			trigger = { exists = title:e_scourge.holder }
			effect = {
				try_to_set_scourge_story_owner = { OWNER = title:e_scourge.holder }
			}
		}

		triggered_effect = {
			trigger = { NOT = { exists = title:e_scourge.holder } }
			effect = {
				end_story = yes
			}
		}
	}
}
