union_story_cycle = {
	on_setup = {
		#set_variable = { name = this_union value = flag:alliance }
		add_to_variable_list = {
			name = union_members
			target = story_owner
		}
	}

	on_end = {
	}

	on_owner_death = {
	}

	effect_group = {
		years = 1
		
		# in case of some bugs
		triggered_effect = {
			trigger = {
				has_variable_list = union_members
				any_in_list = {
					variable = union_members
					is_alive = no
				}
			}
			effect = {
				every_in_list = {
					variable = union_members
					limit = { is_alive = no }
					root = { remove_list_variable = { name = union_members target = prev } }
				}
			}
		}
	}
}
