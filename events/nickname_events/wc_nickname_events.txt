###################
# Nickname Events
###################

namespace = WCNIC

### the Old Murkeye
WCNIC.0001 = { # Murloc nickname for when the character rule long
    type = character_event
	title = WCNIC.0001.t
	desc = WCNIC.0001.desc
    theme = default
	left_portrait = root

    trigger = {
		NOR = {
			has_character_flag = had_nickname_event
            has_character_flag = denied_nickname_event_old_murkeye
		}
        AND = {
            primary_title = { recent_history = { years = 10 } }
            has_culture_group = culture_group:murloc_group
            age >= 45
        }
	}

    weight_multiplier = {
		base = 5
		modifier = {
			factor = 2.0
            age >= 55
		}
        modifier = {
			factor = 10.0
			age >= 65
		}
        modifier = {
			factor = 1.5
			primary_title = { recent_history = { years >= 20 } }
		}
        modifier = {
			factor = 1.5
			primary_title = { recent_history = { years >= 30 } }
		}
	}

    immediate = {
		add_character_flag = {
			flag = had_nickname_event
		}
	}

    option = { # the Old Murkeye
		name = WCNIC.0001.a
        flavor = {
			desc = WCNIC.0001.tt.a
		}
		
		set_nickname_effect = { NICKNAME = nick_the_old_murkeye }
		give_self_nickname_effect = yes
        add_prestige = 50
        remove_long_term_gold = 50
		
		ai_chance = {
			base = 100
		}
	}

    option = { # None
		name = WCNIC.0001.b
		flavor = {
			desc = WCNIC.0001.tt.b
		}
		
		remove_character_flag = had_nickname_event
        add_character_flag = {
			flag = denied_nickname_event_old_murkeye
		}
		
		ai_chance = {
			base = 100
		}
	}
}

### The Ice-hearted
WCNIC.0002 = { # Nickname for cruel and arbitrary ruler
    type = character_event
	title = WCNIC.0002.t
	desc = WCNIC.0002.desc
    theme = default
	left_portrait = root

    trigger = {
        OR = { # Has no nickname or a bad nickname
			has_any_nickname = no
			has_bad_nickname = yes
		}
		NOR = {
			has_character_flag = had_nickname_event
            has_character_flag = denied_nickname_event_the_ice_hearthed
		}
        AND = {
            primary_title = { recent_history = { years = 10 } }
            has_trait = cruel
            has_trait = arbitrary
        }
	}

    weight_multiplier = {
		base = 1
		modifier = {
			factor = 2
            has_trait = strong
            martial >= 10
		}
	}

    immediate = {
		add_character_flag = {
			flag = had_nickname_event
		}
	}

    option = { # the Ice-Hearted
		name = WCNIC.0002.a
        flavor = {
			desc = WCNIC.0002.tt.a
		}
		
		set_nickname_effect = { NICKNAME = nick_the_ice_hearted }
		give_self_nickname_effect = yes
        add_dread = 20
        
		
		ai_chance = {
			base = 100
		}
	}

    option = { # None
		name = WCNIC.0002.b
		flavor = {
			desc = WCNIC.0002.tt.b
		}
		
		remove_character_flag = had_nickname_event
        add_character_flag = {
			flag = denied_nickname_event_the_ice_hearthed
		}
        add_prestige = 20
		
		ai_chance = {
			base = 100
		}
	}
}

### The Deceiver
WCNIC.0003 = { # Nickname for cruel and arbitrary ruler
    type = character_event
	title = WCNIC.0003.t
	desc = WCNIC.0003.desc
    theme = default
	left_portrait = root

    trigger = {
		NOR = {
			has_character_flag = had_nickname_event
            has_character_flag = denied_nickname_event_the_deceiver
		}
        AND = {
            age = 20
            has_trait = deceitful
        }
	}

    weight_multiplier = {
		base = 1
		modifier = {
			factor = 2
            has_trait = cruel
		}
        modifier = {
			factor = 1.25
            has_trait = arbitrary
		}
	}

    immediate = {
		add_character_flag = {
			flag = had_nickname_event
		}
	}

    option = { # the Deceiver
		name = WCNIC.0003.a
        flavor = {
			desc = WCNIC.0003.tt.a
		}
		
		set_nickname_effect = { NICKNAME = nick_the_deceiver }
		give_self_nickname_effect = yes
		
		ai_chance = {
			base = 100
		}
	}

    option = { # None
		name = WCNIC.0003.b
		flavor = {
			desc = WCNIC.0003.tt.b
		}
		
		remove_character_flag = had_nickname_event
        add_character_flag = {
			flag = denied_nickname_event_the_deceiver
		}
		
		ai_chance = {
			base = 100
		}
	}
}