namespace = wc_religious_interaction

#################################
# Surrender to the Inquisition	#
# by ElMariuso					#
# 1010-1012						#
#################################

#Ask for Surrender
wc_religious_interaction.1010 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1010
	sender = {
		character = scope:actor
		animation = shame
	}
	
	option = {
		name = wc_religious_interaction.1010.accept
		scope:actor = {
			trigger_event = {
				id = wc_religious_interaction.1011
				days = 5
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = wc_religious_interaction.1010.refuse
		scope:actor = {
			trigger_event = {
				id = wc_religious_interaction.1012
				days = 5
			}
		}
		
		ai_chance = {
			base = 10
		}
	}
}

#Surrender Accepted
wc_religious_interaction.1011 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1011
	sender = {
		character = scope:inquisitor
		animation = scheme
	}
	
	immediate = {}
	
	# Cynical
	option = {
		trigger = { has_trait = cynical }
		name = wc_religious_interaction.1011.cynical
		
		ai_chance = {
			base = 10
		}
	}
	#Zealous
	option = {
		trigger = { 
			has_trait = zealous
			NOT = { has_trait = cynical }
		}
		name = wc_religious_interaction.1011.zealous
		
		ai_chance = {
			base = 10
		}
	}
	#Deceitful
	option = {
		trigger = {
			has_trait = deceitful
			NOT = {
				has_trait = cynical
				has_trait = zealous
			}
		}
		name = wc_religious_interaction.1011.deceitful
		
		ai_chance = {
			base = 10
		}
	}
	#Normal
	option = {
		trigger = {
			NOT = {
				has_trait = cynical
				has_trait = zealous
				has_trait = deceitful
			}
		}
		name = wc_religious_interaction.1011.normal
		
		ai_chance = {
			base = 10
		}
	}
}

#Surrender Refused
wc_religious_interaction.1012 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1012
	sender = {
		character = scope:inquisitor
		animation = scheme
	}
	
	immediate = {}
	
	option = {
		trigger = { has_trait = deceitful }
		name = wc_religious_interaction.1012.deceitful
		
		ai_chance = {
			base = 10
		}
	}
	
	option = {
		trigger = {
			has_trait = paranoid
			NOT = { has_trait = deceitful }
		}
		name = wc_religious_interaction.1012.paranoid
		
		ai_chance = {
			base = 10
		}
	}
	
	option = {
		trigger = {
			has_trait = paranoid
			NOT = { 
				has_trait = deceitful
				has_trait = paranoid
			}
		}
		name = wc_religious_interaction.1012.zealous
		
		ai_chance = {
			base = 10
		}
	}
	
	option = {
		trigger = {
			NOT = { 
				has_trait = deceitful
				has_trait = paranoid
				has_trait = zealous
			}
		}
		name = wc_religious_interaction.1012.normal
		
		ai_chance = {
			base = 10
		}
	}
}

#####################
# Scarlet Mark 		#
# by ElMariuso		#
# 1020-1025			#
#####################

#Scarlet Marked (Requested by another Ruler)
wc_religious_interaction.1020 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = {
		desc = wc_religious_interaction.1020
		desc = wc_religious_interaction.1021
	}
	sender = {
		character = scope:recipient
		animation = schadenfreude
	}

	immediate = { add_scarlet_mark_tooltip_only_effect = yes }

	option = {
		name = religious_interaction.1000.strong_negative
	}
}

#Scarlet Mark (Priest's own initiative)
wc_religious_interaction.1021 = {
	type = letter_event
	orphan = yes
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1021
	sender = {
		character = scope:recipient
		animation = anger
	}

	immediate = { add_scarlet_mark_tooltip_only_effect = yes }

	option = {
		name = religious_interaction.1000.strong_negative
	}
}

#Scarlet Requester informed the Inquisitor accepted their request.
wc_religious_interaction.1022 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1022
	sender = scope:recipient
	
	immediate = {
		scope:secondary_recipient = { add_scarlet_mark_tooltip_only_effect = yes }
	}
	option = {
		name = religious_interaction.1000.positive
	}
}

#Scarlet Mark Requester informed the Inquisitor denied their request.
wc_religious_interaction.1023 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1023
	sender = {
		character = scope:recipient
		animation = dismissal
	}

	option = {
		name = religious_interaction.1000.negative
	}
}

#Priest lifts Scarlet Mark.
wc_religious_interaction.1024 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1024
	sender = {
		character = scope:recipient
		animation = personality_zealous
	}
	
	#immediate = {
	#	show_as_tooltip = {
	#		declaration_of_repentance_interaction_effect = yes
	#	}
	#}

	option = {
		name = religious_interaction.1024.positive
	}
}

#Inquisitor refuses to lift Scarlet Mark.
wc_religious_interaction.1025 = {
	type = letter_event
	opening = {
		desc = religious_interaction.1.opening
	}
	desc = wc_religious_interaction.1025
	sender = {
		character = scope:recipient
		animation = dismissal
	}

	option = {
		name = religious_interaction.1000.strong_negative
	}
}