namespace = agp_event

agp_event.1 = { # If we start playing as lowborn theocratic or republican ruler
	type = character_event
	hidden = yes
	
	trigger = {
		is_ai = no
		has_dynasty = no
	}
	
	immediate = {
		create_character = {
			employer = root
			age = { 92 98 }
			gender = male
			random_traits = yes
			save_scope_as = char
			dynasty = generate
		}
		scope:char = {
			set_age = { value = root.age add = 20 }
			death = natural
			if = {
				limit = {
					root = { has_race_trait_trigger = yes }
				}
				copy_race_effect = { CHARACTER = root }
			}
			else = { try_to_set_race_effect = yes }
		}
		set_father = scope:char
		set_house = scope:char.house
	}
}

agp_event.5 = {
	type = character_event
	hidden = yes

	immediate = {
		set_house = var:house_of_newchar
		#mercilessly kill off the unneeded character
		var:useless_person = { set_to_lowborn = yes death = natural }
	}
}