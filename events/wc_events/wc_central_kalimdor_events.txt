namespace = cen_kal

############################################################
#Ambushed Kodo Caravan
cen_kal.1010 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.5.desc
	theme = skull
	override_background = wilderness
	
	cooldown = { years = 4 }
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:companion
	}
	
	trigger = {
		capital_province ?= {
			OR = {
				geographical_region = world_kalimdor_central_barrens
				geographical_region = world_kalimdor_central_dustwallow
				geographical_region = world_kalimdor_central_mulgore
				geographical_region = world_kalimdor_central_stonetalon
				geographical_region = world_kalimdor_south_feralas
				geographical_region = world_kalimdor_central_desolace
				geographical_region = world_kalimdor_south_thousand_needles
			}
		}
		OR = {
			is_available_adult = yes
			is_available_ai_adult = yes
		}
		NOR = {
			root.primary_title = { is_mercenary_company = yes }
			government_has_flag = government_is_theocracy
		}
		is_landed = yes
    }
	
	#Companion
	immediate = {
		random_knight = {
			limit = {
				is_available_adult = yes
				opinion = {
					target = root
					value > -40
				}
			}
			save_scope_as = companion
		}
		if = {
			limit = {
				NOT = { exists = scope:companion }
			}
			random_courtier = {
				limit = {
					is_available_adult = yes
				}
				save_scope_as = companion
			}
		}

	}
	#Investigate
	option = {
		name = tauren.5.a
		
		random_neighboring_and_across_water_top_liege_realm_owner = {
			limit = {
				NOR = {
					any_war_enemy = { this = root }
					has_relation_rival = root
				}
				opinion = {
					target = root
					value > -30
				}
			}
			save_scope_as = kodo_owner
		}
		
		#If no rules acceptable opinions around
		if = {
			limit = {
				NOT = { exists = scope:kodo_owner }
			}
			random_neighboring_and_across_water_top_liege_realm_owner = {
				limit = {
					NOR = {
						any_war_enemy = { this = root }
						has_relation_rival = root
					}
				}
				save_scope_as = kodo_owner
			}
		}
		
		trigger_event = {
			id = cen_kal.1011
			days = { 2 5 }
		}
		ai_chance = { base = 85 }
	}
	#Leave
	option = {
		name = tauren.5.b
		ai_chance = { base = 25 }
	}
}
cen_kal.1011 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.51.desc
	theme = skull
	override_background = battlefield
	
 	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:companion
	}
	
	option = {
		name = tauren.51.a
		trigger_event = {
			id = cen_kal.1012
			days = { 2 5 }
		}
	}
}
cen_kal.1012 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.52.desc
	theme = skull
	override_background = battlefield
		
 	left_portrait = {
 		character = ROOT
	}
	
	#Creating Bandit Character just in case
	immediate = {
		create_character = {
			template = bandit_character
			location = root.location
			culture = root.location.culture
			faith = root.location.faith
			gender = male
			save_scope_as = shoeless_bandit
		}
	}
	
	#Steal loot and let it die
	option = {
		name = tauren.52.a
		
		add_gold = 20
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = -30
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = 15 
		}
		every_courtier = {
			limit = {  
				NOR = { 
					has_trait = sadistic
					has_trait = callous
				}
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_opinion = {
				modifier = cruelty_opinion
				opinion = -15
				target = root
			}
		}
		every_courtier = {
			limit = {  
				OR = { 
					has_trait = sadistic
					has_trait = callous
					faith = { 
						OR = { 
							trait_is_virtue = sadistic
							trait_is_virtue = callous
						}
					}
				}
			}
			add_opinion = {
				modifier = cruelty_opinion
				opinion = 10
				target = root
			}
		}
		ai_chance = { base = 25 }
	}
	
	#Put it out of it's misery
	option = {
		name = tauren.52.b
			
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = 20
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = -20
		}
		every_courtier = {
			limit = {  
				NOR = { 
					has_trait = sadistic
					has_trait = callous
				}
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_opinion = {
				modifier = merciful_opinion
				opinion = 15
				target = root
				years = 3
			}
		}
		every_courtier = {
			limit = {  
				OR = { 
					has_trait = sadistic
					has_trait = callous
					faith = { 
						OR = { 
							trait_is_virtue = sadistic
							trait_is_virtue = callous
						}
					}
				}
			}
			add_opinion = {
				modifier = merciful_opinion
				target = root
				years = 3
				opinion = -10
			}
		}
		ai_chance = { base = 75 }
	}
	
	#Try to heal Kodo, can either return it to owner/take it/sell it/it dies
	option = {
		name = tauren.52.c
		
		duel = {
			skills = { learning }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = learning_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								learning > 10
								learning < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								learning >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.52.c_winSkillCheck
				trigger_event = { id = cen_kal.1013 days = { 2 5 } }
			}
			140 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.52.c_loseSkillCheck
				trigger_event = { id = cen_kal.1014 days = { 2 5 } }
			}
		}
		ai_chance = { base = 75 }
	}
	
	#Sit with it till it passes
	option = {
		name = tauren.52.d
		
		trigger = {
			has_trait = compassionate
		}
		
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = 30
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = -25 
		}
		every_courtier = {
			limit = {  
				NOR = { 
					has_trait = sadistic
					has_trait = callous
				}
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_opinion = {
				modifier = merciful_opinion
				opinion = 25
				target = root
				years = 3
			}
		}
		every_courtier = {
			limit = {  
				OR = { 
					has_trait = sadistic
					has_trait = callous
					faith = { 
						OR = { 
							trait_is_virtue = sadistic
							trait_is_virtue = callous
						}
					}
				}
			}
			add_opinion = {
				modifier = merciful_opinion
				opinion = -20
				target = root
				years = 3
			}
		}
		ai_chance = { base = 50 }
	}
	
	#Torture it
	option = {
		name = tauren.52.e
		
		trigger = {
			has_trait = sadistic
		}
		
		add_stress = -40
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = -60
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = 40 
		}
		every_courtier = {
			limit = {  
				NOR = { 
					has_trait = sadistic
					has_trait = callous
				}
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_opinion = {
				modifier = cruelty_opinion
				opinion = -35
				target = root
			}
		}
		every_courtier = {
			limit = {  
				OR = { 
					has_trait = sadistic
					has_trait = callous
					faith = { 
						OR = { 
							trait_is_virtue = sadistic
							trait_is_virtue = callous
						}
					}
				}
			}
			add_opinion = {
				modifier = cruelty_opinion
				opinion = 20
				target = root
			}
		}
		ai_chance = { base = 75 }
	}
	
	#Track down killers
	option = {
		name = tauren.52.f
		
		duel = {
			skills = { intrigue }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = intrigue_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								intrigue > 10
								intrigue < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								intrigue >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.52.f_winSkillCheck
				trigger_event = { id = cen_kal.1015 days = { 2 5 } }
			}
			50 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.52.f_loseSkillCheck
				trigger_event = { id = cen_kal.1016 days = { 2 5 } }
			}
		}
		ai_chance = { base = 75 }
	}
	
	#Send letter to kodo owner
	option = {
		name = tauren.52.g
		
		trigger = {
			diplomacy > 10
		}
		
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 25
				target = root
				years = 5
			}
		}
		ai_chance = { base = 50 }
	}
}
#Healed Kodo
cen_kal.1013 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.521.desc
	theme = skull
	override_background = battlefield
	
 	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:companion
	}
	
	#Take Kodo for yourself
	option = {
		name = tauren.521.a
		
		trigger = { NOT = { 
				has_character_flag = has_living_animal_comp
			} 
		}
		add_character_modifier = {
			modifier = wc_wild_kodo_companion
		}
		add_character_flag = has_living_animal_comp
		#set_variable = {
		#	name = companion_natural_death_rem_years 
		#	value = { 2 11 }
		#}
		if = { limit = { has_trait = greedy } add_stress = -15 }
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = 50
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = -25 
		}
		scope:kodo_owner = {
			add_opinion = {
				modifier = stole_my_animal_comp
				opinion = -40
				target = root
				years = 10
			}
		}
		ai_chance = { base = 50 }
	}
	#Sell Kodo
	option = {
		name = tauren.521.b
		add_gold = 75
		if = { limit = { has_trait = greedy } add_stress = -25 }
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = -30
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = -30
		}
		every_courtier = {
			limit = {  
				NOR = { 
					has_trait = sadistic
					has_trait = callous
				}
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_opinion = {
				modifier = cruelty_opinion
				opinion = -15
				target = root
			}
		}
		every_courtier = {
			limit = {  
				OR = { 
					has_trait = sadistic
					has_trait = callous
					faith = { 
						OR = { 
							trait_is_virtue = sadistic
							trait_is_virtue = callous
						}
					}
				}
			}
			add_opinion = {
				modifier = cruelty_opinion
				opinion = 10
				target = root
			}
		}
		ai_chance = { base = 100 }
	}
	#Set it free
	option = {
		name = tauren.521.c
		custom_tooltip = tauren.521.c_tt
		
		if = { limit = { has_trait = compassionate } add_stress = -25 }
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = 75
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = -35 
		}
		every_courtier = {
			limit = {  
				NOR = { 
					has_trait = sadistic
					has_trait = callous
				}
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_opinion = {
				modifier = merciful_opinion
				opinion = 25
				target = root
				years = 3
			}
		}
		every_courtier = {
			limit = {  
				OR = { 
					has_trait = sadistic
					has_trait = callous
					faith = { 
						OR = { 
							trait_is_virtue = sadistic
							trait_is_virtue = callous
						}
					}
				}
			}
			add_opinion = {
				modifier = merciful_opinion
				opinion = -30
				target = root
				years = 3
			}
		}
		ai_chance = { base = 50 }
	}
	#Return it to it's owner
	option = {
		name = tauren.521.d
		if = { limit = { has_trait = just } add_stress = -25 }
		add_prestige = 50
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 35
				target = root
				years = 5
			}
		}
		if = { 
			limit = { 					
				faith = { 
					NOR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			} 
			add_piety = 50
		}	
		if = { 
			limit = { 					
				faith = { 
					OR = { 
						trait_is_virtue = sadistic
						trait_is_virtue = callous
					}
				}
			}
			add_piety = -25 
		}
		ai_chance = { base = 50 }
	}
}
#Kodo Dies
cen_kal.1014 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.522.desc
	theme = skull
	override_background = battlefield
	
 	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:companion
	}
	
	#Track down killers
	option = {
		name = tauren.52.f
		
		duel = {
			skills = { intrigue }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = intrigue_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								intrigue > 10
								intrigue < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								intrigue >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.52.f_winSkillCheck
				trigger_event = { id = cen_kal.1015 days = { 2 5 } }
			}
			50 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.52.f_loseSkillCheck
				trigger_event = { id = cen_kal.1016 days = { 2 5 } }
			}
		}
		ai_chance = { base = 85 }
	}
	#Leave
	option = {
		name = tauren.522.b
		ai_chance = { base = 25 }
	}
}
#Found bandit camp
cen_kal.1015 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.53.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = lantern
	}
	right_portrait = {
		character = scope:companion
		animation = marshal
	}
	#Attack the bandits with full force
	option = {
		name = tauren.53.a
		
		duel = {
			skills = { martial }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = martial_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								martial > 10
								martial < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								martial >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.55_winSkillCheck
				set_variable = {
					name = wounded_battle 
					value = 1
				}		
				trigger_event = { id = cen_kal.1017 days = { 2 5 } }
			}
			75 = { #Wounded
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.55_loseSkillCheck
				set_variable = {
					name = wounded_battle 
					value = 0
				}	
				trigger_event = { id = cen_kal.1017 days = { 2 5 } }
			}
			25 = { #Death
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.55_dieSkillCheck
				trigger_event = { id = cen_kal.1018 days = { 2 5 } }
			}
		}
		
	}
	
	#Sneak up on the bandits
	option = {
		name = tauren.53.b
		
		duel = {
			skills = { intrigue }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = intrigue_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								intrigue > 10
								intrigue < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								intrigue >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.53.b_winSkillCheck
				trigger_event = { id = cen_kal.1019 days = { 2 5 } }
			}
			35 = { # failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.53.b_loseSkillCheck
				trigger_event = { id = cen_kal.1020 days = { 2 5 } }
			}
		}
		ai_chance = { base = 25 }
	}
	
	#Threaten the bandits
	option = {
		name = tauren.53.c
		
		duel = {
			skills = { diplomacy }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = diplomacy_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								diplomacy > 10
								diplomacy < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								diplomacy >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.57_winSkillCheck		
				trigger_event = { id = cen_kal.1021 days = { 2 5 } }
			}
			88 = { #Fight
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.57_loseSkillCheck
				trigger_event = { id = cen_kal.1022 days = { 2 5 } }
			}
		}
		ai_chance = { base = 25 }
	}
	
	#Use the scroll
	option = {
		name = tauren.53.d
		trigger = { learning > 15 }
		trigger_event = { id = cen_kal.1023 days = { 2 5 } }
		ai_chance = { base = 50 }
	}
}
#Can't find bandits
cen_kal.1016 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.54.desc
	theme = skull
	override_background = wilderness
	
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	right_portrait = {
		character = scope:companion
		animation = anger
	}
	option = {
		name = tauren.54.a
	}
}
#Head On battle - Win
cen_kal.1017 = {
	type = character_event
	title = tauren_event_5_name
	theme = skull
	desc = tauren.551.desc
	override_background = bp1_bonfire
		
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	right_portrait = {
		character = scope:shoeless_bandit
		animation = fear
	}
	
	option = {
		name = tauren.561.a
		add_prestige = 60
		add_piety = 45
		if = { limit = { var:wounded_battle = 1 } add_trait = wounded_1 }  
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 45
				target = root
				years = 5
			}
		}
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_battle
				killer = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = -35
				has_trait = greedy
			}
			modifier = {
				add = 20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = 0.75
			}
		}
	}
	option = {
		name = tauren.561.b
		add_gold = 50
		add_prestige = 25
		add_piety = -10
		if = { limit = { var:wounded_battle = 1 } add_trait = wounded_1 }  
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_battle
				killer = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = 35
				has_trait = greedy
			}
			modifier = {
				add = -20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = -0.75
			}
		}
	}
}
#Head On battle - Die
cen_kal.1018 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.552.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = fear
	}
	lower_left_portrait = {
 		character = scope:companion
	}
	right_portrait = {
		character = scope:shoeless_bandit
		animation = marshal
	}
	
	#Die
	option = {
		name = tauren.552.a
		root = {
			override_death_killer_effect = {
				death_reason = death_battle
				killer = scope:shoeless_bandit
			}
		}
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_battle
				killer = scope:companion
			}
		}
	}
}
#Sneak up success
cen_kal.1019 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.561.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	right_portrait = {
		character = scope:shoeless_bandit
		animation = fear
	}
	
	option = {
		name = tauren.561.a
		add_prestige = 60
		add_piety = 45
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 45
				target = root
				years = 5
			}
		}
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_murder
				killer = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = -35
				has_trait = greedy
			}
			modifier = {
				add = 20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = 0.75
			}
		}
	}
	option = {
		name = tauren.561.b
		add_gold = 50
		add_prestige = 25
		add_piety = -10
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_murder
				killer = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = 35
				has_trait = greedy
			}
			modifier = {
				add = -20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = -0.75
			}
		}
	}
}
#Sneak up fail
cen_kal.1020 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.562.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	right_portrait = {
		character = scope:shoeless_bandit
		animation = fear
	}
	
	option = {
		name = tauren.561.a
		add_prestige = 60
		add_piety = 45
		add_trait = wounded_1
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 45
				target = root
				years = 5
			}
		}
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_battle
				killer = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = -35
				has_trait = greedy
			}
			modifier = {
				add = 20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = 0.75
			}
		}
	}
	option = {
		name = tauren.561.b
		add_gold = 50
		add_prestige = 25
		add_piety = -10
		add_trait = wounded_1
		scope:shoeless_bandit = {
			override_death_killer_effect = {
				death_reason = death_battle
				killer = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = 35
				has_trait = greedy
			}
			modifier = {
				add = -20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = -0.75
			}
		}
	}
}
#Threaten Success
cen_kal.1021 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.571.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	right_portrait = {
		character = scope:shoeless_bandit
		animation = fear
	}
	
	option = {
		name = tauren.561.a
		add_prestige = 60
		add_piety = 45
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 45
				target = root
				years = 5
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = -35
				has_trait = greedy
			}
			modifier = {
				add = 20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = 0.75
			}
		}
	}
	option = {
		name = tauren.561.b
		add_gold = 50
		add_prestige = 25
		add_piety = -10
		ai_chance = { 
			base = 50
			modifier = {
				add = 35
				has_trait = greedy
			}
			modifier = {
				add = -20
				has_trait = content
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = -0.75
			}
		}
	}
}
#Threaten fail
cen_kal.1022 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.572.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	right_portrait = {
		character = scope:shoeless_bandit
		animation = marshal
	}
	
	option = {
		name = tauren.53.a
		
		duel = {
			skills = { martial }
			target = scope:shoeless_bandit
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = martial_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								martial > 10
								martial < 20
							}
							add = 25
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								martial >= 20
							}
							add = 85
						}
					}
				}
				custom_tooltip = tauren.55_winSkillCheck
				set_variable = {
					name = wounded_battle 
					value = 1
				}		
				trigger_event = { id = cen_kal.1017 days = { 2 5 } }
			}
			75 = { #Wounded
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.55_loseSkillCheck
				set_variable = {
					name = wounded_battle 
					value = 0
				}	
				trigger_event = { id = cen_kal.1017 days = { 2 5 } }
			}
			25 = { #Death
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				custom_tooltip = tauren.55_dieSkillCheck
				trigger_event = { id = cen_kal.1018 days = { 2 5 } }
			}
		}
	}
}
#Use scroll
cen_kal.1023 = {
	type = character_event
	title = tauren_event_5_name
	desc = tauren.58.desc
	theme = skull
	override_background = bp1_bonfire
	
 	left_portrait = {
 		character = ROOT
		animation = anger
	}
	
	option = {
		name = tauren.55.a
		
		add_dread = 15
		add_prestige = 35
		scope:shoeless_bandit = {
            override_death_killer_effect = {
                death_reason = death_murder
                killer = root
            }
        }
		scope:kodo_owner = {
			add_opinion = {
				modifier = thankful_opinion
				opinion = 25
				target = root
				years = 5
			}
		}
	}
}
############################################################
#Raided Caravan Battle Event only (Marshal)
cen_kal.1000 = {
	type = character_event
	title = cen_kal_1_name
	desc = cen_kal.1.desc
	theme = corruption
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
		animation = chaplain
	}
	right_portrait = {
		character = scope:companion
		animation = marshal
	}
	
	cooldown = { years = 3 }
	
	trigger = {
		OR = {
			is_available_adult = yes
			is_available_ai_adult = yes
		}
		NOR = {
			primary_title = { is_mercenary_company = yes }
			government_has_flag = government_is_theocracy
		}
		is_landed = yes
	}
	
	#Companion/Kodo Owner/Shoeless Bandit
	immediate = {
		if = {
			limit = { exists = cp:councillor_marshal }
			cp:councillor_marshal = {
				save_scope_as = companion
			}
		}
		if = {
			limit = { NOT = { exists = scope:companion } }
			random_knight = {
				limit = {
					is_available_adult = yes
					NOT = { this = root }
					opinion = {
						target = root
						value > -40
					}
				}
				save_scope_as = companion
			}
		}
		if = {
			limit = { NOT = { exists = scope:companion } }
			random_courtier = {
				limit = {
					is_available_adult = yes
					NOT = { this = root }
					opinion = {
						target = root
						value > -40
					}
				}
				save_scope_as = companion
			}
		}
		random_neighboring_and_across_water_top_liege_realm_owner = {
			limit = {
				NOR = {
					any_war_enemy = { this = root }
					has_relation_rival = root
					this = root
				}
				opinion = {
					target = root
					value > -50
				}
			}
			save_scope_as = kodo_owner
		}
		if = {
			limit = {
				NOT = { exists = scope:kodo_owner }
			}
			random_neighboring_and_across_water_top_liege_realm_owner = {
				limit = { NOT = { this = root } }
				save_scope_as = kodo_owner
			}
		}
		create_character = {
			template = bandit_character
			location = root.location
			culture = root.location.culture
			faith = root.location.faith
			gender = male
			save_scope_as = shoeless_bandit
		}
	}
	
	#Lead Attack
	option = {
		name = cen_kal.1.a
		if = { limit = { has_trait = craven } add_stress = 25 }
		if = { limit = { has_trait = brave } add_stress = -25 }
		add_prestige = 30
		trigger_event = { id = cen_kal.1015 days = { 2 5 } }
		custom_tooltip = cen_kal.1.a.tt
		ai_chance = { 
			base = 50
			modifier = {
				add = 35
				has_trait = brave
			}
			modifier = {
				add = 10
				NOT = { has_trait = wounded_1 }
			}
			modifier = {
				add = -20
				is_at_war = yes
			}
		}
	}
	
	#Coward
	option = {
		name = cen_kal.1.b
		add_prestige = -35
		if = { limit = { has_trait = craven } add_stress = -25 }
		if = { limit = { has_trait = brave } add_stress = 35 }
		scope:companion = {
			add_opinion = {
				modifier = weak_opinion
				opinion = -15
				target = root
			}
			add_dread = -3
			trigger_event = { id = cen_kal.1015 days = { 2 5 } }
		}
		custom_tooltip = cen_kal.1.b.tt
		ai_chance = { 
			base = 50
			modifier = {
				add = 25
				has_trait = craven
			}
			modifier = {
				add = 25
				has_trait = wounded_1
			}
			modifier = {
				add = 20
				is_at_war = yes
			}
		}
	}
	
	#Hate other ruler
	option = {
		name = cen_kal.1.c
		add_prestige = -35
		scope:companion = {
			add_opinion = {
				modifier = weak_opinion
				opinion = -10
				target = root
			}
		}
		scope:kodo_owner = {
			add_opinion = {
				modifier = weak_opinion
				opinion = -20
				target = root
			}
		}
		ai_chance = { 
			base = 50
			modifier = {
				add = 15
				has_trait = craven
			}
			modifier = {
				add = 15
				has_trait = wounded_1
			}
			modifier = {
				add = 20
				is_at_war = yes
			}
			opinion_modifier = {
				opinion_target = scope:kodo_owner
				multiplier = -0.75
			}
		}
	}
}
############################################################
#Goblin Prospectors Throneroom
cen_kal.1001 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1001.desc
	theme = stewardship
	override_background = throne_room
	
	cooldown = { years = 4 }
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = var:goblin_prospector
		animation = steward
	}
	
	trigger = {
		NOR = { 
			has_character_flag = has_working_depot
			has_character_flag = depot_under_constr
			root.primary_title = { is_mercenary_company = yes }
			government_has_flag = government_is_theocracy
		}
		is_landed = yes
		highest_held_title_tier >= tier_duchy
	}
	
	immediate = {
		create_character = {
			location = root.location
			trigger_race_giving_no_gene_effect = yes   
			trait=creature_goblin
			culture=culture:blackwater
			faith=faith:cult_of_wealth
			dynasty=none
			stewardship = { 14 22 }
			age = { 25 35 }
			gender_female_chance = 50
			save_scope_as = goblin_prospector
		}
		random_sub_realm_county = {
			limit = {
				holder = root
				NOT = { this = root.capital_county }
				title_province = {
					NOT = { has_province_modifier = wc_exploded_depot }
				}
			}
			title_province = { save_scope_as = depot_location }
		}
		if = {
			limit = { NOT = { exists = scope:depot_location } }
			random_sub_realm_county = {
				limit = {
					holder = root
					title_province = {
						NOT = { has_province_modifier = wc_exploded_depot }
					}
				}
				title_province = { save_scope_as = depot_location }
			}
		}
		if = {
			limit = { NOT = { exists = scope:depot_location } }
			random_sub_realm_county = {
				limit = { holder = root }
				title_province = { save_scope_as = depot_location }
			}
		}
		set_variable = {
			name = goblin_prospector
			value = scope:goblin_prospector
		}
		set_variable = {
			name = depot_location
			value = scope:depot_location
		}
		#Will be used in on_actions 
		set_variable = {
			name = unlucky_counter
			value = 0
		}
	}
	
	option = {
		name = cen_kal.1001.a
		custom_tooltip = cen_kal.1001.a.tt
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = -100 }
		every_courtier = {
			limit = { faith = { has_doctrine = tenet_sanctity_of_nature } }
			add_opinion = {
				modifier = disappointed_opinion
				opinion = -15
				target = root
			}
		}
		remove_short_term_gold = 150
		if = { limit = { has_trait = greedy } add_stress = -25 }
		if = { limit = { has_trait = content } add_stress = 15 }
		trigger_event = { on_action = goblin_depot_under_constr_events days = { 360 390 } }
		add_character_flag = { flag = depot_under_constr years = 2 }
		
		ai_chance = { 
			base = 50
			modifier = {
				add = 75
				has_trait = greedy
			}
			modifier = {
				add = -25
				has_trait = content
			}
			modifier = {
				add = -100
				faith = { has_doctrine = tenet_sanctity_of_nature }
			}
			modifier = {
				add = -30
				debt_level >= 0
			}
		}
	}
	option = {
		name = cen_kal.1001.b
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = 40 }
		every_courtier = {
			limit = { faith = { has_doctrine = tenet_sanctity_of_nature } }
			add_opinion = {
				modifier = respect_opinion
				opinion = 10
				target = root
			}
		}
		if = { limit = { has_trait = greedy } add_stress = 25 }
		if = { limit = { has_trait = content } add_stress = -25 }
		
		ai_chance = { 
			base = 50
			modifier = {
				add = -90
				has_trait = greedy
			}
			modifier = {
				add = 35
				has_trait = content
			}
			modifier = {
				add = 120
				faith = { has_doctrine = tenet_sanctity_of_nature }
			}
			modifier = {
				add = 30
				debt_level >= 0
			}
		}
	}
}
#Propecting works
cen_kal.1002 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1002.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = var:goblin_prospector
		animation = steward
	}
	
	weight_multiplier = {
		base = 25
		modifier = { 
			add = {
				if = {
					limit = { 
						exists = var:unlucky_counter 
						var:unlucky_counter = 1 
					}
					add = 50
				}
			}
			add = {
				if = {
					limit = { 
						exists = var:unlucky_counter 
						var:unlucky_counter = 2 
					}
					add = 75
				}
			}
			add = {
				if = {
					limit = { 
						exists = var:unlucky_counter 
						var:unlucky_counter = 3 
					}
					add = 100
				}
			}
			add = {
				if = {
					limit = { 
						exists = var:unlucky_counter 
						var:unlucky_counter > 3
					}
					add = 125
				}
			}
		}
	}
	
	option = {
		name = cen_kal.1002.a
		custom_tooltip = cen_kal.1002.a.tt
		add_character_flag = has_working_depot
		remove_character_flag = depot_under_constr
		set_variable = {
			name = depot_work_state 
			value = 2
		}
		scope:depot_location = {
			add_province_modifier = {
				modifier = wc_normal_depot
			}
		}
	}
}
#Run off with the money
cen_kal.1003 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1003.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
		animation = angry
	}
	right_portrait = {
		character = var:goblin_prospector
		animation = laugh
	}
	
	immediate = {
		random_county = {
			limit = { 
				faith = faith:cult_of_wealth 
				NOT = { holder = root }
				squared_distance = {
					target = scope:depot_location
					value < 400000
				}
			}
			save_temporary_scope_as = escape_location
		}
		if = {
			limit = { NOT = { exists = scope:escape_location } }
			random_county = {
				limit = { 
					faith = faith:cult_of_wealth 
					NOT = { holder = root }
				}
				save_temporary_scope_as = escape_location
			}
		}
		var:goblin_prospector = {
			set_location = {
				location = scope:escape_location.holder.capital_province
				stick_to_location = yes
			}
		}
	}
	
	option = {
		name = cen_kal.1003.a
		add_prestige = -50
		add_stress = 15
		if = { limit = { has_trait = greedy } add_stress = 15 }
		remove_character_flag = depot_under_constr
		every_courtier = {
			add_opinion = {
				modifier = disappointed_opinion
				opinion = -10
				target = root
			}
		}
	}
}
#Explosion at station
cen_kal.1004 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1004.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
		animation = angry
	}
	right_portrait = {
		character = scope:steward
	}
	lower_right_portrait = {
		character = var:goblin_prospector
	}
	
	weight_multiplier = {
		base = 1
		modifier = { 
			add = {
				if = {
					limit = { 
						exists = var:depot_work_state
						var:depot_work_state = 0
					}
					add = -800
				}
			}
			add = {
				if = {
					limit = { 
						exists = var:depot_work_state
						var:depot_work_state = 2
					}
					add = 5
				}
			}
			add = {
				if = {
					limit = { 
						exists = var:depot_work_state
						var:depot_work_state = 3
					}
					add = 15
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = { exists = cp:councillor_steward }
			cp:councillor_steward = {
				save_scope_as = steward
			}
		}
		if = {
			limit = { NOT = { exists = scope:steward } }
			random_courtier = {
				limit = { is_available_adult = yes }
				save_scope_as = steward
			}
		}
	}
	
	option = {
		name = cen_kal.1003.a
		add_prestige = -75
		add_stress = 25
		if = { limit = { has_trait = greedy } add_stress = 15 }
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = -300 }
		var:depot_location = {
			add_province_modifier = {
				modifier = wc_exploded_depot
				years = 6
			}
			if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
			if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
			if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
			if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
		}
		var:goblin_prospector = {
			override_death_effect = { death_reason = death_accident }
		}
		if = {
			limit = { exists = scope:old_prospector }
			scope:old_prospector = { override_death_effect = { death_reason = death_accident } }
		}
		every_courtier = {
			add_opinion = {
				modifier = disappointed_opinion
				opinion = -20
				target = root
			}
		}
		remove_character_flag = has_working_depot
		remove_character_flag = depot_under_constr
		remove_variable = depot_work_state
	}
}
#Goblin coup
cen_kal.1005 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1005.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
	}
	lower_left_portrait = {
 		character = scope:spymaster
	}
	right_portrait = {
		character = var:goblin_prospector
		animation = marshal
	}
	lower_right_portrait = {
		character = scope:old_prospector
	}
	
	immediate = {
		if = {
			limit = { exists = cp:councillor_spymaster }
			cp:councillor_spymaster = {
				save_scope_as = spymaster
			}
		}
		if = {
			limit = { NOT = { exists = scope:spymaster } }
			random_courtier = {
				limit = { is_available_adult = yes }
				save_scope_as = spymaster
			}
		}
		if = {
			limit = { exists = scope:goblin_prospector }
			scope:goblin_prospector = {
				save_scope_as = old_prospector
			}
		}
		var:goblin_prospector = {
			save_scope_as = old_prospector
		}
		create_character = {
			location = root.location
			trigger_race_giving_no_gene_effect = yes   
			trait=creature_goblin
			culture=culture:blackwater
			faith=faith:cult_of_wealth
			dynasty=none
			stewardship = { 14 22 }
			age = { 25 35 }
			gender_female_chance = 50
			save_scope_as = goblin_prospector
		}
		set_variable = {
			name = goblin_prospector
			value = scope:goblin_prospector
		}
		change_variable = { name = unlucky_counter add = 1 }
	}
	
	option = {
		name = cen_kal.1005.a
		custom_tooltip = cen_kal.1001.a.tt
		trigger = { NOT = { has_character_flag = has_working_depot } }
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = -100 }
		remove_short_term_gold = 40
		add_prestige = -35
		add_stress = 15
		remove_character_flag = depot_under_constr
		add_character_flag = { flag = depot_under_constr years = 2 }
		trigger_event = { on_action = goblin_depot_under_constr_events days = { 360 390 } }
		
		ai_chance = { 
			base = 75
			modifier = {
				add = 50
				has_trait = greedy
			}
			modifier = {
				add = -25
				has_trait = content
			}
		}
	}
	option = {
		name = cen_kal.1001.c2
		trigger = { NOT = { has_character_flag = has_working_depot } }
		if = { limit = { has_trait = greedy } add_stress = 15 }
		add_prestige = -25
		add_stress = 15
		remove_character_flag = depot_under_constr
		
		ai_chance = { 
			base = 75
			modifier = {
				add = -50
				has_trait = greedy
			}
			modifier = {
				add = 25
				has_trait = content
			}
				modifier = {
				add = 15
				debt_level >= 0
			}
		}
	}
	option = {
		name = cen_kal.1005.a
		custom_tooltip = cen_kal.1001.a.tt
		trigger = { has_character_flag = has_working_depot }
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = -20 }
		remove_short_term_gold = 25
		add_prestige = -20
		add_stress = 10
		
		ai_chance = { 
			base = 75
			modifier = {
				add = 50
				has_trait = greedy
			}
			modifier = {
				add = -25
				has_trait = content
			}
		}
	}
	option = {
		name = cen_kal.1005.b
		custom_tooltip = cen_kal.1005.b.tt
		trigger = { has_character_flag = has_working_depot }
		if = { limit = { has_trait = greedy } add_stress = 50 }
		add_prestige = 50
		scope:depot_location = {
			if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
			if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
			if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
			if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
		}
		remove_character_flag = has_working_depot
		remove_character_flag = depot_under_constr
		remove_variable = depot_work_state
		
		ai_chance = { 
			base = 75
			modifier = {
				add = -50
				has_trait = greedy
			}
			modifier = {
				add = 25
				has_trait = content
			}
		}
	}
	#Take down coup leader
	option = {
		name = cen_kal.1005.c
		trigger = { intrigue > 16 }
		scope:goblin_prospector = {
			override_death_killer_effect = {
				death_reason = death_murder
				killer = root
			}
		}
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = -20 }
		if = { limit = { has_trait = greedy } add_stress = 10 }
		add_prestige = 15
		add_stress = 10
		if = { limit = { evil_public_religion_trigger = yes } add_piety = 20 }
		if = { limit = { evil_public_religion_trigger = no } add_piety = -75 }
		scope:old_prospector = {
			save_scope_as = goblin_prospector
		}
		set_variable = {
			name = goblin_prospector
			value = scope:goblin_prospector
		}
		if = { limit = { has_character_flag = depot_under_constr } 
			remove_character_flag = depot_under_constr
			add_character_flag = { flag = depot_under_constr years = 2 }
			trigger_event = { on_action = goblin_depot_under_constr_events days = { 360 390 } }
		}
		
		ai_chance = { 
			base = 100
			modifier = {
				add = 50
				has_trait = greedy
			}
			modifier = {
				add = 50
				has_trait = sadistic
			}
			modifier = {
				add = 50
				has_trait = deceitful
			}
		}
	}
}
#Modify Depot Workload Decision
cen_kal.1006 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1006.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:steward
	}
	lower_right_portrait = {
		character = var:goblin_prospector
	}
	
	immediate = {
		if = {
			limit = { exists = cp:councillor_steward }
			cp:councillor_steward = {
				save_scope_as = steward
			}
		}
		if = {
			limit = { NOT = { exists = scope:steward } }
			random_courtier = {
				limit = { is_available_adult = yes }
				save_scope_as = steward
			}
		}
		if = {
			limit = { 
				OR = {
					NOT = { exists = var:goblin_prospector }
					var:goblin_prospector = { is_alive = no }
				}
			}
			create_character = {
				location = root.capital_province
				trigger_race_giving_no_gene_effect = yes   
				trait=creature_goblin
				culture=culture:blackwater
				faith=faith:cult_of_wealth
				dynasty=none
				stewardship = { 14 22 }
				age = { 25 35 }
				gender_female_chance = 50
				save_scope_as = goblin_prospector
			}
			set_variable = {
				name = goblin_prospector
				value = scope:goblin_prospector
			}
		}
	}
	option = {
		name = cen_kal.1006.a0
		ai_chance = { 
			base = 85
			modifier = {
				add = 25
				has_trait = content
			}
		}
	}
	option = {
		name = cen_kal.1006.a
		custom_tooltip = cen_kal.1006.a.tt	
		trigger = { var:depot_location = { NOT = { has_province_modifier = wc_overclocked_depot } } }
		if = { limit = { has_trait = greedy } add_stress = -10 }
		var:depot_location = {
			if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
			if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
			if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
			if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
			add_province_modifier = {
				modifier = wc_overclocked_depot
			}
		}
		set_variable = {
			name = depot_work_state 
			value = 3
		}
		ai_chance = { 
			base = 40
			modifier = {
				add = 50
				has_trait = greedy
			}
			modifier = {
				add = 30
				debt_level >= 0
			}
		}
	}
	option = {
		name = cen_kal.1006.b
		custom_tooltip = cen_kal.1006.b.tt
		trigger = { var:depot_location = { NOT = { has_province_modifier = wc_normal_depot } } }
		var:depot_location = {
			if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
			if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
			if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
			if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
			add_province_modifier = {
				modifier = wc_normal_depot
			}
		}
		set_variable = {
			name = depot_work_state 
			value = 2
		}	
		ai_chance = { 
			base = 85
			modifier = {
				add = 25
				has_trait = content
			}
		}
	}
	option = {
		name = cen_kal.1006.c
		custom_tooltip = cen_kal.1006.c.tt
		trigger = { var:depot_location = { NOT = { has_province_modifier = wc_moderated_depot } } }
		var:depot_location = {
			if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
			if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
			if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
			if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
			add_province_modifier = {
				modifier = wc_moderated_depot
			}
		}
		set_variable = {
			name = depot_work_state 
			value = 1
		}
		ai_chance = { 
			base = 40
			modifier = {
				add = 15
				has_trait = craven
			}
			modifier = {
				add = 50
				has_trait = content
			}
		}		
	}
	option = {
		name = cen_kal.1006.d
		custom_tooltip = cen_kal.1006.d.tt
		trigger = { var:depot_location = { NOT = { has_province_modifier = wc_disabled_depot } } }
		var:depot_location = {
			if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
			if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
			if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
			if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
			add_province_modifier = {
				modifier = wc_disabled_depot
			}
		}
		set_variable = {
			name = depot_work_state 
			value = 0
		}	
		if = { limit = { has_trait = greedy } add_stress = 10 }
		
		ai_chance = { 
			base = 15
			modifier = {
				add = 10
				has_trait = craven
			}
			modifier = {
				add = 50
				faith = { has_doctrine = tenet_sanctity_of_nature }
			}
		}
	}
	option = {
		name = cen_kal.1006.e
		custom_tooltip = cen_kal.1006.e.tt
		hidden_effect = {
			var:depot_location = {
				if = { limit = { has_province_modifier = wc_moderated_depot } remove_province_modifier = wc_moderated_depot }
				if = { limit = { has_province_modifier = wc_disabled_depot } remove_province_modifier = wc_disabled_depot }
				if = { limit = { has_province_modifier = wc_overclocked_depot } remove_province_modifier = wc_overclocked_depot }
				if = { limit = { has_province_modifier = wc_normal_depot } remove_province_modifier = wc_normal_depot }
			}
		}
		remove_character_flag = has_working_depot
		remove_variable = depot_work_state
		if = { limit = { has_trait = greedy } add_stress = 35 }
		
		ai_chance = { 
			base = 5
			modifier = {
				add = 65
				faith = { has_doctrine = tenet_sanctity_of_nature }
			}
		}
	}
}
#Depot Workload Yearly Returns
cen_kal.1007 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1007.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:steward
	}
	lower_right_portrait = {
		character = var:goblin_prospector
	}
	
	trigger = { has_character_flag = has_working_depot }
	
	immediate = {
		if = {
			limit = { exists = cp:councillor_steward }
			cp:councillor_steward = {
				save_scope_as = steward
			}
		}
		if = {
			limit = { NOT = { exists = scope:steward } }
			random_courtier = {
				limit = { is_available_adult = yes }
				save_scope_as = steward
			}
		}
	}
	
	option = {
		name = cen_kal.1007.a
		if = { limit = { var:depot_work_state = 3 } add_gold = 40 }  
		if = { limit = { var:depot_work_state = 2 } add_gold = 25 }  
		if = { limit = { var:depot_work_state = 1 } add_gold = 15 }  
		if = { limit = { var:depot_work_state = 0 } remove_short_term_gold = 15 }  
		if = { limit = { faith = { has_doctrine = tenet_sanctity_of_nature } } add_piety = -15 }
		every_courtier = {
			limit = { faith = { has_doctrine = tenet_sanctity_of_nature } }
			add_opinion = {
				modifier = disappointed_opinion
				opinion = -2
				target = root
			}
		}
	}
}
#Depot Under constr Delay Event
cen_kal.1008 = {
	type = character_event
	title = cen_kal.1001_name
	desc = cen_kal.1008.desc
	theme = stewardship
	override_background = throne_room
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
		character = scope:steward
	}
	lower_right_portrait = {
		character = var:goblin_prospector
	}
	
	immediate = {
		if = {
			limit = { exists = cp:councillor_steward }
			cp:councillor_steward = {
				save_scope_as = steward
			}
		}
		if = {
			limit = { NOT = { exists = scope:steward } }
			random_courtier = {
				limit = { is_available_adult = yes }
				save_scope_as = steward
			}
		}
	}
	
	option = {
		name = cen_kal.1008.a
		remove_short_term_gold = 15
		change_variable = { name = unlucky_counter add = 1 }
		remove_character_flag = depot_under_constr
		add_character_flag = { flag = depot_under_constr years = 2 }
		trigger_event = { on_action = goblin_depot_under_constr_events days = { 360 390 } }
		
		ai_chance = { 
			base = 75
			modifier = {
				add = 50
				has_trait = greedy
			}
			modifier = {
				add = -25
				has_trait = content
			}
		}
	}
	option = {
		name = cen_kal.1008.b
		if = { limit = { has_trait = greedy } add_stress = 15 }
		add_prestige = -25
		add_stress = 15
		remove_character_flag = depot_under_constr
		
		ai_chance = { 
			base = 75
			modifier = {
				add = -50
				has_trait = greedy
			}
			modifier = {
				add = 25
				has_trait = content
			}
			modifier = {
				add = 15
				debt_level >= 0
			}
		}
	}
}
############################################################
#Shrine of the Fallen Warrior
cen_kal.1025 = {
	type = character_event
	title = cen_kal.1025.name
	desc = cen_kal.1025.desc
	theme = faith
	override_background = drylands
	
	left_portrait = {
 		character = ROOT
	}
	
	cooldown = { years = 10 }
	
    trigger = {
		capital_province ?= {
			OR = {
				geographical_region = world_kalimdor_central_barrens
				geographical_region = world_kalimdor_central_dustwallow
				geographical_region = world_kalimdor_central_mulgore
				geographical_region = world_kalimdor_south_thousand_needles
				geographical_region = world_kalimdor_central_durotar
			}
		}
		OR = {
			is_available_adult = yes
			is_available_ai_adult = yes
		}
    }
	option = { name = cen_kal.1025.a add_prestige = 10 }
}
############################################################
#Wandering Goblin Merchant
cen_kal.1053 = {
	type = character_event
	title = cen_kal.1053.name
	desc = cen_kal.1053.desc
	theme = stewardship
	override_background = drylands
	
	left_portrait = {
 		character = ROOT
	}
	right_portrait = {
 		character = scope:goblin_merchant
		animation = steward
	}
	lower_right_portrait = {
 		character = scope:ogre_bodyguard
	}
	
	cooldown = { years = 6 }
	
    trigger = {
		capital_province ?= {
			OR = {
				geographical_region = world_kalimdor_central_barrens
				geographical_region = world_kalimdor_central_dustwallow
				geographical_region = world_kalimdor_central_mulgore
				geographical_region = world_kalimdor_central_stonetalon
				geographical_region = world_kalimdor_south_feralas
				geographical_region = world_kalimdor_central_desolace
				geographical_region = world_kalimdor_south_thousand_needles
				geographical_region = world_kalimdor_central_durotar
			}
		}
		OR = {
			is_available_adult = yes
			is_available_ai_adult = yes
		}
    }
	
	immediate = {
		create_character = {
			location = root.location
			trigger_race_giving_no_gene_effect = yes   
			trait=creature_goblin
			culture=culture:blackwater
			faith=faith:cult_of_wealth
			dynasty=none
			stewardship = { 14 22 }
			age = { 25 35 }
			gender = male
			save_scope_as = goblin_merchant
		}
		create_character = {
			location = root.location
			trigger_race_giving_no_gene_effect = yes   
			trait=creature_ogre
			culture=culture:ogre
			faith=faith:gorgog_worship
			dynasty=none
			martial = { 14 22 }
			age = { 25 35 }
			gender = male
			save_scope_as = ogre_bodyguard
		}
		random_character_artifact = {
			limit = {
				#artifact_durability <= define:NInventory|ARTIFACT_LOW_DURABILITY
				OR = {
					artifact_slot_type = primary_armament
					artifact_slot_type = armor
					artifact_slot_type = helmet
					artifact_slot_type = regalia
				}
			}
			save_scope_as = artifact_need_repairs
		}
	}
	#Buy item
	option = { 
		name = cen_kal.1053.a 
		remove_short_term_gold = 120
		custom_tooltip = cen_kal.1053.a.tt
		hidden_effect = {
			random_list = {
				10 = {
					create_artifact_weapon_effect = {
						OWNER = root
						CREATOR = root
						SET_WEAPON_TYPE = flag:no
					}
				}
				10 = {
					create_artifact_armor_effect = {
						OWNER = root
						CREATOR = root
						SET_ARMOR_TYPE = flag:no
					}
				}
				25 = {
					create_artifact_regalia_effect = {
						OWNER = root
						SMITH = root
					}
				}
				25 = {
					create_artifact_brooch_effect = {
						OWNER = root
						SMITH = root
					}
				}
				25 = {
					create_artifact_book_effect = {
						OWNER = root 
						CREATOR = root
						SET_SUBJECT = flag:no
						SET_TOPIC = flag:no
					}
				}
			}
			scope:newly_created_artifact = {
				set_artifact_description = artifact_cultural_gift_desc
			}
		}
	}
	#Repair gear
	option = { 
		name = cen_kal.1053.b
		trigger = { exists = scope:artifact_need_repairs } 
		if = { limit = { has_trait = diligent } add_stress = -20 }
		remove_short_term_gold = 20
		scope:artifact_need_repairs = {
			add_durability = {
				value = artifact_durability
				multiply = 7
				max = 60
			}
		}
	}
	#Steal everything
	option = { 
		name = cen_kal.1053.c
		duel = {
			skills = { prowess }
			target = scope:ogre_bodyguard
			50 = { # success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								has_lifestyle = martial_lifestyle
							}
							add = 10
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								martial > 10
								martial < 20
							}
							add = 15
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								martial >= 20
							}
							add = 20
						}
					}
				}
				#WIN
				add_dread = 5
				custom_tooltip = cen_kal.1053.a.tt
				hidden_effect = {
					random_list = {
						10 = {
							create_artifact_weapon_effect = {
								OWNER = root
								CREATOR = root
								SET_WEAPON_TYPE = flag:no
							}
						}
						10 = {
							create_artifact_armor_effect = {
								OWNER = root
								CREATOR = root
								SET_ARMOR_TYPE = flag:no
							}
						}
						25 = {
							create_artifact_regalia_effect = {
								OWNER = root
								SMITH = root
							}
						}
						25 = {
							create_artifact_brooch_effect = {
								OWNER = root
								SMITH = root
							}
						}
						25 = {
							create_artifact_book_effect = {
								OWNER = root 
								CREATOR = root
								SET_SUBJECT = flag:no
								SET_TOPIC = flag:no
							}
						}
					}
					scope:newly_created_artifact = {
						set_artifact_description = artifact_cultural_gift_desc
					}
					scope:ogre_bodyguard = {
						override_death_killer_effect = {
							death_reason = death_battle
							killer = root
						}
					}
				}
			}
			75 = { #Wounded
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				modifier = {
					add = {
						if = {
							limit = { 
								scope:ogre_bodyguard.martial > 10
								scope:ogre_bodyguard.martial < 20
							}
							add = 35
						}
					}
				}
				modifier = {
					add = {
						if = {
							limit = { 
								scope:ogre_bodyguard.martial >= 20
							}
							add = 50
						}
					}
				}
				add_prestige = -300
				add_trait = wounded_1
			}
		}
	}
	option = { name = cen_kal.1053.d } #Leave
}

#quilboar causes belili thorns
#Rework ck3 vanilla events
#Kodo Migration/Kodo Graveyard event desolace
#white kodo is harbinger of doom for centaurs
#Flayers' Point
#Zone events Feralas, Desolace, Barrens, Mulgore
#zulfarrak hydra summouning ritual
#Quilboar embrace undead
#Companion events
#Orc find original clan, forsaken find original past
#druids of the fang - wailing caverns
#Most often it is males that receive the dream-vision that sets them on the shaman's path, although female shaman are not uncommon. (Quilboars)