namespace = WCWAR

# Event for rebuild_kingdom_pack_effect
WCWAR.10 = {
	type = character_event
	hidden = yes
	
	immediate = {
		add_gold = 500
	
		add_character_modifier = { modifier = rebuilding_kingdom_modifier years = 10 }
		
		spawn_peacekeepers_troops_effect = yes
	}
}

#Conquering of Northshire
WCWAR.20 = {
	title = WCWAR.20.t
	desc = WCWAR.20.d
	type = character_event
	theme = war

	left_portrait = {
		character = root
		animation = personality_honorable
	}

	# Sack the city
	option = {
		name = WCWAR.20.a
		title:c_northshire = {
			change_development_level = {
				value = {
					add = development_level
					multiply = { -0.8 -0.9 }
				}
			}
			custom_tooltip = destroy_all_buildings_tt
			hidden_effect = {
				any_county_province = {
					if = { #changing holding type destroys all the buildings
						limit = { has_holding_type = church_holding }
						set_holding_type = tribal_holding 
						set_holding_type = church_holding
					}
					if = { 
						limit = { has_holding_type = city_holding }
						set_holding_type = tribal_holding 
						set_holding_type = city_holding
					}
					if = {
						limit = { has_holding_type = castle_holding }
						set_holding_type = tribal_holding 
						set_holding_type = castle_holding
					}
				}
			}
			holder = {
				every_vassal_or_below = {
					override_death_killer_effect = {
						death_reason = death_battle
						killer = scope:horde_leader
					}
				}
				every_courtier_or_guest = {
					random_list = {
						90 = {
							override_death_killer_effect = {
								death_reason = death_battle
								killer = scope:horde_leader
							}
						}
						10 = { }
					}
				}
			}
			add_short_term_gold = major_gold_value
			title:b_northshire = { revoke_lease = yes }
			# artifacts
			# global flag
		}
	}

	# Keep it how it is
	option = {
		
	}
}

# Notification for Horde Vassals
WCWAR.25 = {
	title = WCWAR.20.t
	desc = {
		desc = WCWAR.25.d
		first_valid = {
			triggered_desc = {
				trigger = {
					has_title = title:d_twilights_hammer_clan
				}
				desc = WCWAR.25.d_twilight
			}
		}
	}

	type = character_event
	theme = war

	immediate = {
		title:e_horde.holder = { save_scope_as = horde_leader }
	}

	left_portrait = {
		character = scope:horde_leader
		animation = personality_honorable
	}

	# ok
	option = {
		
	}

	# Ask for lands
	option = {
		trigger = {
			has_title = title:d_twilights_hammer_clan
		}
	}
}

# Asking for lands (notification for horde leader)
WCWAR.30 = {

}

# Asking for lands notification + response
WCWAR.35 = {


}